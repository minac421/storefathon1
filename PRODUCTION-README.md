# دليل نشر موقع الفاتحون

هذا الدليل يوضح الخطوات اللازمة لنشر موقع الفاتحون على بيئة الإنتاج.

## المتطلبات المسبقة

1. حساب على [Vercel](https://vercel.com) أو أي منصة استضافة أخرى تدعم Next.js
2. قاعدة بيانات MongoDB (MongoDB Atlas موصى بها)
3. متغيرات البيئة الضرورية

## متغيرات البيئة

يجب توفير المتغيرات البيئية التالية:

- `MONGODB_URI`: رابط الاتصال بقاعدة بيانات MongoDB
- `NEXT_PUBLIC_SITE_URL`: عنوان URL الكامل للموقع

### إضافة المتغيرات البيئية في Vercel

1. قم بالانتقال إلى لوحة تحكم مشروعك في Vercel
2. انتقل إلى تبويب "Settings"
3. قم بالتمرير للأسفل إلى قسم "Environment Variables"
4. أضف متغيرات البيئة المطلوبة

**ملاحظة مهمة**: لأمان أفضل، استخدم خاصية "Environment Variables Secrets" في Vercel للبيانات الحساسة مثل رابط قاعدة البيانات.

## قاعدة البيانات

تأكد من إعداد قاعدة البيانات بشكل صحيح قبل النشر:

1. يجب السماح بالوصول إلى قاعدة البيانات من عنوان IP الخادم (أو 0.0.0.0/0 للتجربة)
2. تأكد من إنشاء المستخدم بصلاحيات مناسبة
3. تأكد من تشفير الاتصال (SSL/TLS)

## مراحل النشر

1. **تهيئة قاعدة البيانات**: تأكد من إنشاء القاعدة وإدارتها بشكل صحيح
2. **تحضير متغيرات البيئة**: كما هو موضح أعلاه
3. **تهيئة النشر**: على منصة الاستضافة المختارة (Vercel موصى بها)
4. **تنفيذ النشر**: عبر الواجهة أو باستخدام CLI

### النشر عبر Vercel

```bash
# تثبيت أداة Vercel CLI
npm install -g vercel

# تسجيل الدخول
vercel login

# نشر المشروع
vercel
```

## فحص الأمان والأداء بعد النشر

بعد النشر، تأكد من:

1. تشغيل جميع ميزات الموقع بشكل صحيح
2. استجابة API بشكل متوقع
3. توافق الموقع مع الأجهزة المختلفة
4. أوقات استجابة سريعة

## الاتصال بقاعدة البيانات في الإنتاج

للتخفيف من مشاكل الاتصال:

1. تم تضمين آليات الإعادة المحاولة تلقائيًا في الكود
2. الكود يتعامل بشكل متسامح مع حالات الإنتقال والأخطاء
3. تتم مراقبة الأخطاء وتسجيلها

## الصيانة المستمرة

1. مراقبة استخدام قاعدة البيانات والأداء
2. فحص السجلات بشكل منتظم لتحديد الأخطاء
3. إجراء تحديثات دورية للأمان والميزات
4. التأكد من نسخ احتياطي منتظم للبيانات

## التعامل مع الأخطاء الشائعة

إذا واجهت أخطاء في الاتصال بقاعدة البيانات:
- تأكد من صحة رابط الاتصال
- تحقق من إعدادات الجدار الناري وقواعد الوصول
- تأكد من حدود اتصالات قاعدة البيانات

إذا واجهت أخطاء في واجهة المستخدم:
- اختبر الموقع على متصفحات مختلفة
- افحص سجلات الخطأ في واجهة Vercel 