{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 60, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/minaa/CascadeProjects/conquerors-website/src/utils/mockData.ts"],"sourcesContent":["// نموذج بيانات رسائل الدردشة\r\nexport interface ChatMessage {\r\n  id: string;\r\n  sender: string;\r\n  senderAvatarId: number;\r\n  message: string;\r\n  timestamp: string;\r\n  interaction?: {\r\n    likes: string[];\r\n    isLiked?: boolean;\r\n  };\r\n}\r\n\r\n// إنشاء بيانات وهمية للرسائل الأولية\r\nexport function createMockMessages(): ChatMessage[] {\r\n  return [\r\n    { \r\n      id: '1', \r\n      sender: 'فاطمة', \r\n      senderAvatarId: 3, \r\n      message: 'مرحباً بالجميع في دردشة الفاتحون! هل يمكنني الحصول على نصائح لتطوير قلعتي؟', \r\n      timestamp: '2025-05-16T01:00:00.000Z',\r\n      interaction: {\r\n        likes: [],\r\n        isLiked: false\r\n      }\r\n    },\r\n    { \r\n      id: '2', \r\n      sender: 'عمر', \r\n      senderAvatarId: 1, \r\n      message: 'أهلاً فاطمة! أنصحك بالتركيز على تطوير الدفاعات أولاً وزيادة إنتاج الموارد', \r\n      timestamp: '2025-05-16T01:01:30.000Z',\r\n      interaction: {\r\n        likes: [],\r\n        isLiked: false\r\n      }\r\n    },\r\n    { \r\n      id: '3', \r\n      sender: 'خالد', \r\n      senderAvatarId: 5, \r\n      message: 'البوتات الذكية للمزارع ستساعدك كثيراً في توفير الموارد والوقت', \r\n      timestamp: '2025-05-16T01:03:00.000Z',\r\n      interaction: {\r\n        likes: [],\r\n        isLiked: false\r\n      }\r\n    },\r\n  ];\r\n}\r\n\r\n// نموذج بيانات المستخدمين المتصلين\r\nexport interface OnlineUser {\r\n  name: string;\r\n  avatarId: number;\r\n}\r\n\r\n// إنشاء بيانات وهمية للمستخدمين المتصلين\r\nexport function createMockOnlineUsers(): OnlineUser[] {\r\n  return [\r\n    { name: 'عمر', avatarId: 1 },\r\n    { name: 'خالد', avatarId: 5 },\r\n    { name: 'فاطمة', avatarId: 3 },\r\n    { name: 'محمد', avatarId: 2 },\r\n    { name: 'سارة', avatarId: 6 },\r\n    { name: 'أحمد', avatarId: 8 },\r\n    { name: 'نورا', avatarId: 4 }\r\n  ];\r\n} "],"names":[],"mappings":"AAAA,6BAA6B;;;;;AActB,SAAS;IACd,OAAO;QACL;YACE,IAAI;YACJ,QAAQ;YACR,gBAAgB;YAChB,SAAS;YACT,WAAW;YACX,aAAa;gBACX,OAAO,EAAE;gBACT,SAAS;YACX;QACF;QACA;YACE,IAAI;YACJ,QAAQ;YACR,gBAAgB;YAChB,SAAS;YACT,WAAW;YACX,aAAa;gBACX,OAAO,EAAE;gBACT,SAAS;YACX;QACF;QACA;YACE,IAAI;YACJ,QAAQ;YACR,gBAAgB;YAChB,SAAS;YACT,WAAW;YACX,aAAa;gBACX,OAAO,EAAE;gBACT,SAAS;YACX;QACF;KACD;AACH;AASO,SAAS;IACd,OAAO;QACL;YAAE,MAAM;YAAO,UAAU;QAAE;QAC3B;YAAE,MAAM;YAAQ,UAAU;QAAE;QAC5B;YAAE,MAAM;YAAS,UAAU;QAAE;QAC7B;YAAE,MAAM;YAAQ,UAAU;QAAE;QAC5B;YAAE,MAAM;YAAQ,UAAU;QAAE;QAC5B;YAAE,MAAM;YAAQ,UAAU;QAAE;QAC5B;YAAE,MAAM;YAAQ,UAAU;QAAE;KAC7B;AACH","debugId":null}},
    {"offset": {"line": 140, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/minaa/CascadeProjects/conquerors-website/src/app/api/chat/messages/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\r\nimport { createMockMessages } from '@/utils/mockData';\r\n\r\n// تخزين مؤقت للرسائل (في نظام حقيقي، سيتم استخدام قاعدة بيانات)\r\nlet chatMessages = createMockMessages();\r\n\r\nexport async function GET(req: NextRequest) {\r\n  try {\r\n    const url = new URL(req.url);\r\n    const limit = parseInt(url.searchParams.get('limit') || '50');\r\n    \r\n    // استرجاع الرسائل، مرتبة من الأحدث إلى الأقدم ثم عكسها\r\n    const messages = [...chatMessages]\r\n      .sort((a, b) => new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime())\r\n      .slice(0, limit)\r\n      .reverse();\r\n    \r\n    return NextResponse.json({ \r\n      success: true, \r\n      messages\r\n    });\r\n  } catch (error) {\r\n    console.error('Error fetching chat messages:', error);\r\n    return NextResponse.json({ \r\n      success: false, \r\n      error: 'فشل في جلب رسائل الدردشة' \r\n    }, { status: 500 });\r\n  }\r\n}\r\n\r\nexport async function POST(req: NextRequest) {\r\n  try {\r\n    const { message, sender, senderAvatarId } = await req.json();\r\n    \r\n    // التحقق من بيانات الرسالة\r\n    if (!message || typeof message !== 'string' || !message.trim()) {\r\n      return NextResponse.json({ \r\n        success: false, \r\n        error: 'محتوى الرسالة مطلوب' \r\n      }, { status: 400 });\r\n    }\r\n    \r\n    if (!sender || typeof sender !== 'string') {\r\n      return NextResponse.json({ \r\n        success: false, \r\n        error: 'اسم المرسل مطلوب' \r\n      }, { status: 400 });\r\n    }\r\n    \r\n    // إنشاء رسالة جديدة\r\n    const newMessage = {\r\n      id: Date.now().toString(),\r\n      sender,\r\n      senderAvatarId,\r\n      message: message.trim(),\r\n      timestamp: new Date().toISOString(),\r\n      interaction: {\r\n        likes: [],\r\n        isLiked: false\r\n      }\r\n    };\r\n    \r\n    // إضافة الرسالة إلى المجموعة\r\n    chatMessages.push(newMessage);\r\n    \r\n    return NextResponse.json({ \r\n      success: true, \r\n      message: newMessage\r\n    });\r\n  } catch (error) {\r\n    console.error('Error sending chat message:', error);\r\n    return NextResponse.json({ \r\n      success: false, \r\n      error: 'فشل في إرسال رسالة الدردشة' \r\n    }, { status: 500 });\r\n  }\r\n} "],"names":[],"mappings":";;;;AAAA;AACA;;;AAEA,gEAAgE;AAChE,IAAI,eAAe,CAAA,GAAA,0HAAA,CAAA,qBAAkB,AAAD;AAE7B,eAAe,IAAI,GAAgB;IACxC,IAAI;QACF,MAAM,MAAM,IAAI,IAAI,IAAI,GAAG;QAC3B,MAAM,QAAQ,SAAS,IAAI,YAAY,CAAC,GAAG,CAAC,YAAY;QAExD,uDAAuD;QACvD,MAAM,WAAW;eAAI;SAAa,CAC/B,IAAI,CAAC,CAAC,GAAG,IAAM,IAAI,KAAK,EAAE,SAAS,EAAE,OAAO,KAAK,IAAI,KAAK,EAAE,SAAS,EAAE,OAAO,IAC9E,KAAK,CAAC,GAAG,OACT,OAAO;QAEV,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT;QACF;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,iCAAiC;QAC/C,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT,OAAO;QACT,GAAG;YAAE,QAAQ;QAAI;IACnB;AACF;AAEO,eAAe,KAAK,GAAgB;IACzC,IAAI;QACF,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,cAAc,EAAE,GAAG,MAAM,IAAI,IAAI;QAE1D,2BAA2B;QAC3B,IAAI,CAAC,WAAW,OAAO,YAAY,YAAY,CAAC,QAAQ,IAAI,IAAI;YAC9D,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;gBACvB,SAAS;gBACT,OAAO;YACT,GAAG;gBAAE,QAAQ;YAAI;QACnB;QAEA,IAAI,CAAC,UAAU,OAAO,WAAW,UAAU;YACzC,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;gBACvB,SAAS;gBACT,OAAO;YACT,GAAG;gBAAE,QAAQ;YAAI;QACnB;QAEA,oBAAoB;QACpB,MAAM,aAAa;YACjB,IAAI,KAAK,GAAG,GAAG,QAAQ;YACvB;YACA;YACA,SAAS,QAAQ,IAAI;YACrB,WAAW,IAAI,OAAO,WAAW;YACjC,aAAa;gBACX,OAAO,EAAE;gBACT,SAAS;YACX;QACF;QAEA,6BAA6B;QAC7B,aAAa,IAAI,CAAC;QAElB,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT,SAAS;QACX;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,+BAA+B;QAC7C,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT,OAAO;QACT,GAAG;YAAE,QAAQ;QAAI;IACnB;AACF","debugId":null}}]
}