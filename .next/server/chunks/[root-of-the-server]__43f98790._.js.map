{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 68, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/minaa/CascadeProjects/conquerors-website/src/lib/dbConnect.ts"],"sourcesContent":["import mongoose from 'mongoose';\n\n// ุงูุฑุงุจุท ุงูุฎุงุต ุจูุงุนุฏุฉ ุงูุจูุงูุงุช MongoDB Atlas - ุงุณุชุฎุฏู ุงููุชุบูุฑ ุงูุจูุฆู ุฃููุงู\nconst MONGODB_URI = process.env.MONGODB_URI || 'mongodb+srv://minaadelc4:cHjkStQnKuh91sNt@storefathone.a42qbk5.mongodb.net/storefathon?retryWrites=true&w=majority&appName=storefathone';\n\n/**\n * ุชุนุฑูู ุญุงูุงุช ุงูุงุชุตุงู ููุงุนุฏุฉ ุงูุจูุงูุงุช\n */\n// ูุฌุจ ุงุณุชุฎุฏุงู ููุณ ุงูููู ุงูุนุฏุฏูุฉ ุงูุชู ูุณุชุฎุฏููุง Mongoose\nconst MONGOOSE_STATES = {\n  disconnected: 0,\n  connected: 1,\n  connecting: 2,\n  disconnecting: 3,\n} as const;\n\n// ุชุฑุฌูุฉ ุญุงูุงุช ุงูุงุชุตุงู ุฅูู ุงูุนุฑุจูุฉ\nconst CONNECTION_STATE_NAMES = [\n  'ูููุตู',        // 0\n  'ูุชุตู',         // 1\n  'ุฌุงุฑู ุงูุงุชุตุงู', // 2\n  'ุฌุงุฑู ุงูุงููุตุงู' // 3\n];\n\n/**\n * ุงูุงุชุตุงู ุงูุนูููู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช\n * ุณูุชู ุงุณุชุฎุฏุงูู ูู ุฌููุน ุฃูุญุงุก ุงูุชุทุจูู\n * \n * ููุงุญุธุฉ ูุงูุฉ: ูุฌุจ ุงูุชุฃูุฏ ูู ุฃู ุงูุฅุนุฏุงุฏุงุช ุงูุฃูููุฉ ูู MongoDB Atlas ุชุณูุญ ุจุงุชุตุงู ูู IP ุงูุฎุงุฏู\n * ุชุฃูุฏ ูู ุฅุถุงูุฉ IP ุงูุฎุงุฏู ูู Network Access ูู MongoDB Atlas\n * ูุฅุฐุง ููุช ุชุณุชุฎุฏู Vercelุ ูุชุฃูุฏ ูู ุฅุถุงูุฉ 0.0.0.0/0 ููุณูุงุญ ุจุงููุตูู ูู ุฌููุน ุนูุงููู IP\n */\nif (!MONGODB_URI) {\n  throw new Error('ูุฑุฌู ุชุญุฏูุฏ ุฑุงุจุท MONGODB_URI ูู ููู .env.local');\n}\n\n/**\n * ูุชุบูุฑ ุนูููู ููุญุงูุฉ ูู ุงููุทุงู ุงูุนูููู\n * ูููุน ุฅุนุงุฏุฉ ุงูุงุชุตุงู ูู ูู ูุฑุฉ ูุชู ูููุง ุงุณุชุฎุฏุงู ุงูุฏุงูุฉ\n */\ninterface Cached {\n  conn: mongoose.Connection | null;\n  promise: Promise<mongoose.Connection> | null;\n  errorCount: number;\n  lastErrorTime: number | null;\n}\n\ndeclare global {\n  // eslint-disable-next-line\n  var mongoose: { \n    conn: mongoose.Connection | null; \n    promise: Promise<mongoose.Connection> | null;\n    errorCount: number;\n    lastErrorTime: number | null;\n  };\n}\n\n// ุชููุฆุฉ ุงููุงุด ุงูุนูููู\nlet cached: Cached = global.mongoose as Cached;\n\nif (!cached) {\n  cached = global.mongoose = { \n    conn: null, \n    promise: null, \n    errorCount: 0,\n    lastErrorTime: null \n  };\n}\n\n/**\n * ุฏุงูุฉ ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช\n * ุชุนูุฏ ุงุชุตุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฃู ุชุฑูู ุฎุทุฃ ุฅุฐุง ูุดู ุงูุงุชุตุงู ุจุนุฏ ุนุฏุฉ ูุญุงููุงุช\n */\nasync function dbConnect(): Promise<mongoose.Connection> {\n  // ุงูุชุญูู ุฅุฐุง ูุงู ุงูุงุชุตุงู ููุฌูุฏูุง ุจุงููุนู\n  if (cached.conn) {\n    // ุงุฎุชุจุงุฑ ุงูุงุชุตุงู ุงููุงุฆู\n    try {\n      const currentState = cached.conn.readyState;\n      \n      if (currentState === MONGOOSE_STATES.connected) {\n        return cached.conn;\n      } else {\n        console.log(`โ๏ธ ุญุงูุฉ ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช ุบูุฑ ุตุงูุญุฉ (readyState=${currentState})ุ ุฅุนุงุฏุฉ ุงูุงุชุตุงู...`);\n        cached.conn = null;\n        cached.promise = null;\n      }\n    } catch (connError) {\n      console.error('โ ุฎุทุฃ ุนูุฏ ูุญุต ุญุงูุฉ ุงูุงุชุตุงู ุงูุญุงูู:', connError);\n      cached.conn = null;\n      cached.promise = null;\n    }\n  }\n\n  // ุงูุชุญูู ูู ููุช ุญุฏูุซ ุขุฎุฑ ุฎุทุฃ - ุฅุนุงุฏุฉ ุถุจุท ุนุฏุงุฏ ุงูุฃุฎุทุงุก ุฅุฐุง ูุฑ ููุช ูุงูู\n  if (cached.lastErrorTime && Date.now() - cached.lastErrorTime > 60000) {\n    console.log('๐ ุฅุนุงุฏุฉ ุถุจุท ุนุฏุงุฏ ุงูุฃุฎุทุงุก ุจุนุฏ ูุฑูุฑ ุฏูููุฉ');\n    cached.errorCount = 0;\n    cached.lastErrorTime = null;\n  }\n\n  // ุงูุชุญูู ูู ุนุฏุฏ ุงููุญุงููุงุช ุงููุชูุฑุฑุฉ\n  if (cached.errorCount > 5) {\n    const timeSinceLastError = cached.lastErrorTime ? Math.floor((Date.now() - cached.lastErrorTime) / 1000) : 0;\n    console.error(`โ ุชุฌุงูุฒ ุงูุญุฏ ุงูุฃูุตู ููุญุงููุงุช ุงูุงุชุตุงู (${cached.errorCount}). ุขุฎุฑ ูุญุงููุฉ ููุฐ ${timeSinceLastError} ุซุงููุฉ.`);\n    \n    // ุฅุนุงุฏุฉ ุชุนููู ุงูุนุฏุงุฏ ุจุนุฏ 1 ุฏูููุฉ\n    if (timeSinceLastError > 60) {\n      console.log('๐ ุฅุนุงุฏุฉ ุถุจุท ุนุฏุงุฏ ูุญุงููุงุช ุงูุงุชุตุงู ุจุนุฏ ูุชุฑุฉ ุงูุชุธุงุฑ');\n      cached.errorCount = 0;\n    } else {\n      throw new Error(`ุชุฌุงูุฒ ุงูุญุฏ ุงูุฃูุตู ููุญุงููุงุช ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช. ุญุงูู ูุฑุฉ ุฃุฎุฑู ูุงุญููุง (${Math.max(0, 60 - timeSinceLastError)} ุซุงููุฉ ูุชุจููุฉ)`);\n    }\n  }\n\n  if (!cached.promise) {\n    const opts = {\n      bufferCommands: true,\n      serverSelectionTimeoutMS: 20000, // ุฒูุงุฏุฉ ูููุฉ ุงุชุตุงู ุงูุณูุฑูุฑ ุฅูู 20 ุซุงููุฉ\n      connectTimeoutMS: 20000, // ุฒูุงุฏุฉ ูููุฉ ุงูุงุชุตุงู ุฅูู 20 ุซุงููุฉ\n      socketTimeoutMS: 60000, // ุฒูุงุฏุฉ ูููุฉ ุงูุชูุงุก ูุฏุฉ ุงูุจุญุซ ุนู ุงูุณูุฑูุฑ ุฅูู 60 ุซุงููุฉ\n      family: 4, // ุงุณุชุฎุฏุงู IPv4 ุจุฏูุงู ูู IPv6\n      maxPoolSize: 10, // ุชุญุฏูุฏ ุงูุญุฏ ุงูุฃูุตู ูุนุฏุฏ ุงูุงุชุตุงูุงุช ูู ุงููุฌูุน\n      retryWrites: true, // ุฅุนุงุฏุฉ ูุญุงููุฉ ุงููุชุงุจุฉ ุชููุงุฆููุง\n      retryReads: true, // ุฅุนุงุฏุฉ ูุญุงููุฉ ุงููุฑุงุกุฉ ุชููุงุฆููุง\n    };\n\n    // ุทุจุงุนุฉ ุงูุฑุงุจุท ููุชุญูู ููู (ูุน ุฅุฎูุงุก ูููุฉ ุงููุฑูุฑ ููุฃูุงู)\n    const sanitizedUri = MONGODB_URI.replace(/(mongodb\\+srv:\\/\\/[^:]+):[^@]+@/, '$1:****@');\n    console.log('๐ ูุญุงููุฉ ุงูุงุชุตุงู ุจู:', sanitizedUri);\n    \n    // ูุนุงูุฌุฉ ุงูุงุชุตุงู ุจุดูู ุฃูุถู\n    cached.promise = mongoose.connect(MONGODB_URI, opts)\n      .then((mongoose) => {\n        const connection = mongoose.connection;\n        console.log(`๐ฟ ุชู ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช MongoDB ุจูุฌุงุญ! (${connection.name})`);\n        \n        // ุฅุถุงูุฉ ูุณุชูุน ูุฃุญุฏุงุซ ุงูุฎุทุฃ\n        connection.on('error', (err) => {\n          console.error('โ ุฎุทุฃ ูู ุงุชุตุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฎูุงู ุงูุชุดุบูู:', err);\n        });\n        \n        connection.on('disconnected', () => {\n          console.warn('โ๏ธ ุงููุทุน ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช');\n          cached.conn = null;\n        });\n        \n        // ุฅุนุงุฏุฉ ุชุนููู ุนุฏุงุฏ ุงูุฃุฎุทุงุก ุนูุฏ ูุฌุงุญ ุงูุงุชุตุงู\n        cached.errorCount = 0;\n        cached.lastErrorTime = null;\n        return connection;\n      })\n      .catch((error) => {\n        // ุฒูุงุฏุฉ ุนุฏุงุฏ ุงูุฃุฎุทุงุก ูุชุณุฌูู ููุช ุขุฎุฑ ุฎุทุฃ\n        cached.errorCount++;\n        cached.lastErrorTime = Date.now();\n        \n        console.error('โ ุฎุทุฃ ูู ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช MongoDB:', error.message);\n        \n        // ุชุญูู ูู ููุน ุงูุฎุทุฃ ูุชูุฏูู ุฑุณุงุฆู ูููุฏุฉ\n        if (error.name === 'MongoServerSelectionError') {\n          console.error('โ๏ธ ุฎุทุฃ ุงุฎุชูุงุฑ ุงูุณูุฑูุฑ: ุชุฃูุฏ ูู ุฃู ุนููุงู IP ุงูุฎุงุต ุจู ูุณููุญ ุจู ูู ุฅุนุฏุงุฏุงุช ุงูุฃูุงู ูู MongoDB Atlas');\n          console.error('๐ก ุงูุชุฑุงุญ: ุงุถุจุท Network Access ูู MongoDB Atlas ููุณูุงุญ ูู 0.0.0.0/0 ููุงุฎุชุจุงุฑ');\n        }\n        if (error.message.includes('Authentication failed')) {\n          console.error('๐ ูุดู ุงููุตุงุฏูุฉ: ุชุฃูุฏ ูู ุตุญุฉ ุงุณู ุงููุณุชุฎุฏู ููููุฉ ุงููุฑูุฑ');\n        }\n        if (error.message.includes('getaddrinfo')) {\n          console.error('๐ ุฎุทุฃ DNS: ุชุฃูุฏ ูู ุงุณู ุงููุทุงู ุงูุตุญูุญ ูุชููุฑ ุงุชุตุงู ุงูุฅูุชุฑูุช');\n        }\n        \n        // ุฅุนุงุฏุฉ ุชุนููู ุงููุนุฏ ููุณูุงุญ ุจุงููุญุงููุฉ ุงูุชุงููุฉ\n        cached.promise = null;\n        throw error;\n      });\n  } else {\n    console.log('โป๏ธ ุงุณุชุฎุฏุงู ูุนุฏ ุงุชุตุงู ููุฌูุฏ');\n  }\n\n  try {\n    cached.conn = await cached.promise;\n  } catch (e) {\n    // ุฅุนุงุฏุฉ ุถุจุท ุงููุนุฏ ูู ุญุงูุฉ ุญุฏูุซ ุฎุทุฃ\n    cached.promise = null;\n    throw e;\n  }\n\n  // ุงูุชุญูู ูู ุญุงูุฉ ุงูุงุชุตุงู\n  const connectionState = cached.conn.readyState;\n  \n  if (connectionState !== MONGOOSE_STATES.connected) {\n    console.warn(`โ๏ธ ุญุงูุฉ ุงูุงุชุตุงู ุบูุฑ ูุชููุนุฉ: ${connectionState}`);\n    \n    // ุนุฑุถ ุงุณู ุญุงูุฉ ุงูุงุชุตุงู\n    const stateName = CONNECTION_STATE_NAMES[connectionState] || 'ุบูุฑ ูุนุฑููุฉ';\n    console.warn(`๐ ุญุงูุฉ ุงูุงุชุตุงู: ${stateName}`);\n    \n    // ุฅุฐุง ูุงูุช ุงูุญุงูุฉ \"ุฌุงุฑู ุงูุงุชุตุงู\"ุ ุงูุชุธุฑ ููููุงู\n    if (connectionState === MONGOOSE_STATES.connecting) {\n      console.log('โณ ุฌุงุฑู ุงูุงุชุตุงูุ ุงูุงูุชุธุงุฑ...');\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      \n      // ุงูุชุญูู ูุฑุฉ ุฃุฎุฑู ุจุนุฏ ุงูุงูุชุธุงุฑ\n      const newState = cached.conn.readyState;\n      if (newState === MONGOOSE_STATES.connected) {\n        console.log('โ ุชู ุงูุงุชุตุงู ุจูุฌุงุญ ุจุนุฏ ุงูุงูุชุธุงุฑ');\n      } else {\n        const newStateName = CONNECTION_STATE_NAMES[newState] || 'ุบูุฑ ูุนุฑููุฉ';\n        console.warn(`โ๏ธ ูุง ูุฒุงู ุงูุงุชุตุงู ูู ุญุงูุฉ ุบูุฑ ูุชููุนุฉ: ${newState} (${newStateName})`);\n      }\n    }\n  }\n\n  return cached.conn;\n}\n\nexport default dbConnect;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 241, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/minaa/CascadeProjects/conquerors-website/src/types/blog.ts"],"sourcesContent":["// ุชุนุฑูู ูุฆุงุช ุงูููุงู ุงููุชุงุญุฉ\nexport enum BlogCategory {\n  GUIDE = 'guide', // ุฃุฏูุฉ ุงููุงุนุจูู\n  NEWS = 'news', // ุฃุฎุจุงุฑ ุงููุนุจุฉ\n  TIPS = 'tips', // ูุตุงุฆุญ ูุญูู\n  ANALYSIS = 'analysis', // ุชุญูููุงุช ูุชููููุงุช\n  MARKET = 'market', // ุฃุฎุจุงุฑ ุงูุณูู\n  MEMES = 'memes', // ูููุฒ ูุทุฑุงุฆู\n  EXPERIENCE = 'experience', // ุชุฌุงุฑุจ ุงููุงุนุจูู\n}\n\n// ุฃููุงุน ุงูุชูุงุนูุงุช ุงููุฎุชููุฉ ููููุงูุงุช\nexport enum ReactionType {\n  SWORD = 'sword', // ุณูู ููููุงููุฉ ุงููููุฉ ุฃู ุงููุญุชูู ุงูุงุณุชุฑุงุชูุฌู\n  FIRE = 'fire',   // ูุงุฑ ูููุญุชูู ุงูุญูุงุณู ูุงููุซูุฑ\n  SHIELD = 'shield', // ุฏุฑุน ูููุญุชูู ุงููููุฏ ุฃู ุงููุตุงุฆุญ ุงูุฏูุงุนูุฉ\n  CROWN = 'crown',  // ุชุงุฌ ูููุญุชูู ุงูุงุณุชุซูุงุฆู\n  CASTLE = 'castle', // ููุนุฉ ููุฃููุงุฑ ุงูุฅุจุฏุงุนูุฉ ุฃู ุงููุจุชูุฑุฉ\n  LAUGH = 'laugh'  // ุถุญู ูููุญุชูู ุงููุณูู ุฃู ุงูุทุฑูู\n}\n\n// ูุงุฌูุฉ ุจูุงูุงุช ุงูุชูุงุนู\nexport interface Reaction {\n  type: ReactionType;\n  sessionId: string; // ูุนุฑู ุงูุฌูุณุฉ ูููุน ุงูุชูุฑุงุฑ\n  nickname?: string; // ุงุณู ูุณุชุนุงุฑ ุงุฎุชูุงุฑู ูููุณุชุฎุฏู\n  timestamp: string; // ุชูููุช ุงูุชูุงุนู\n}\n\n// ูุงุฌูุฉ ูุนูููุงุช ุงููุคูู\nexport interface Author {\n  nickname: string;  // ุงูุงุณู ุงููุณุชุนุงุฑ\n  avatar?: string;   // ุฑุงุจุท ุงูุตูุฑุฉ ุงูุฑูุฒูุฉ\n  sessionId: string; // ูุนุฑูู ุฌูุณุฉ ูุดูุฑ (ููุฏุงุฎู ููุท)\n  email?: string;    // ุงุฎุชูุงุฑูุ ููุฅุดุนุงุฑุงุช\n  badge?: string;    // ุดุงุฑุฉ ุฎุงุตุฉ (ูุทูุฑุ ูุดุฑูุ ูุงุนุจ ูููุฒ)\n}\n\n// ูุงุฌูุฉ ุงูุชุนููู\nexport interface Comment {\n  id: string;\n  postId: string;\n  content: string;\n  author: Author;\n  createdAt: string;\n  reactions: Reaction[];\n  replies?: Comment[];\n}\n\n// ูุงุฌูุฉ ุชูุงุนูุงุช ุงูููุงู\nexport interface PostInteraction {\n  reactions: Reaction[];\n  views: number;\n  shares: number;\n  comments: Comment[];\n}\n\n// ูููุฐุฌ ุจูุงูุงุช ุงูููุงู ูููุงุฌูุฉ ุงูุฃูุงููุฉ\nexport interface BlogPostProps {\n  id: string;\n  title: string;\n  slug: string;\n  content: string;\n  summary: string;\n  category: string;\n  featuredImage: string;\n  author: Author;\n  tags: string[];\n  interaction: PostInteraction;\n  isPublished: boolean;\n  createdAt: string;\n  updatedAt: string;\n}\n"],"names":[],"mappings":"AAAA,4BAA4B;;;;;AACrB,IAAA,AAAK,sCAAA;;;;;;;;WAAA;;AAWL,IAAA,AAAK,sCAAA;;;;;;qCAMO,+BAA+B;WANtC","debugId":null}},
    {"offset": {"line": 271, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/minaa/CascadeProjects/conquerors-website/src/models/BlogPost.ts"],"sourcesContent":["import mongoose from 'mongoose';\nimport { BlogCategory } from '@/types/blog';\n\n// ุงุณุชูุฑุงุฏ ุชุนุฑูู ูุฆุงุช ุงูููุงู ูู ููู ุงูุฃููุงุน\n\n// ูููุฐุฌ ุจูุงูุงุช ุงูุชุนููู\nconst CommentSchema = new mongoose.Schema({\n  author: {\n    userId: { type: String, default: null }, // ูุนุฑู ุงููุณุชุฎุฏู ุฅุฐุง ูุงู ูุณุฌูุงู\n    name: { type: String, required: [true, 'ุงูุฑุฌุงุก ุฅุฏุฎุงู ุงุณู ุงููุนูู'] }, // ุงุณู ุงููุนูู\n    avatar: { type: String, default: null } // ุงูุตูุฑุฉ ุงูุฑูุฒูุฉ ูููุนูู\n  },\n  content: {\n    type: String,\n    required: [true, 'ุงูุฑุฌุงุก ุฅุฏุฎุงู ูุต ุงูุชุนููู'],\n    trim: true,\n    maxlength: [500, 'ูุฌุจ ุฃูุง ูุฒูุฏ ุงูุชุนููู ุนู 500 ุญุฑู']\n  },\n  likes: [\n    { type: String } // ูุงุฆูุฉ ูุนุฑูุงุช ุงููุณุชุฎุฏููู ุงูุฐูู ุฃุนุฌุจูุง ุจุงูุชุนููู\n  ],\n  replies: [{\n    author: {\n      userId: { type: String, default: null },\n      name: { type: String, required: true },\n      avatar: { type: String, default: null }\n    },\n    content: {\n      type: String,\n      required: true,\n      trim: true,\n      maxlength: [300, 'ูุฌุจ ุฃูุง ูุฒูุฏ ุงูุฑุฏ ุนู 300 ุญุฑู']\n    },\n    likes: [{ type: String }],\n    createdAt: { type: Date, default: Date.now }\n  }],\n  isApproved: { type: Boolean, default: true }, // ูู ุงูุชุนููู ูุนุชูุฏ ููุนุฑุถ\n  createdAt: { type: Date, default: Date.now }\n}, {\n  timestamps: true\n});\n\n// ุชุนุฑูู ูููุฐุฌ ูุนูููุงุช ุงููุงุชุจ\nconst AuthorInfoSchema = new mongoose.Schema({\n  userId: { type: String, default: null }, // ูุนุฑู ุงููุณุชุฎุฏู ุฅุฐุง ูุงู ูุณุฌูุงู\n  name: { type: String, required: true }, // ุงุณู ุงููุงุชุจ\n  avatar: { type: String, default: null }, // ุงูุตูุฑุฉ ุงูุฑูุฒูุฉ ูููุงุชุจ\n  bio: { type: String, default: '' }, // ูุจุฐุฉ ุนู ุงููุงุชุจ\n  contactInfo: { type: String, default: null }, // ูุนูููุงุช ุงูุชูุงุตู (ุงุฎุชูุงุฑูุฉ)\n  isFeatured: { type: Boolean, default: false }, // ูู ุงููุงุชุจ ูููุฒุ\n  isVerified: { type: Boolean, default: false } // ูู ุงููุงุชุจ ููุซูุ\n});\n\n// ุชุนุฑูู ูุฎุทุท ุจูุงูุงุช ุงูููุงู\nconst BlogPostSchema = new mongoose.Schema({\n  title: {\n    type: String,\n    required: [true, 'ุงูุฑุฌุงุก ุฅุฏุฎุงู ุนููุงู ุงูููุงู'],\n    trim: true,\n    maxlength: [100, 'ูุฌุจ ุฃูุง ูุฒูุฏ ุงูุนููุงู ุนู 100 ุญุฑู']\n  },\n  slug: {\n    type: String,\n    required: true,\n    unique: true,\n    trim: true\n  },\n  content: {\n    type: String,\n    required: [true, 'ุงูุฑุฌุงุก ุฅุฏุฎุงู ูุญุชูู ุงูููุงู'],\n  },\n  summary: {\n    type: String,\n    required: [true, 'ุงูุฑุฌุงุก ุฅุฏุฎุงู ููุฎุต ุงูููุงู'],\n    maxlength: [300, 'ูุฌุจ ุฃูุง ูุฒูุฏ ุงูููุฎุต ุนู 300 ุญุฑู']\n  },\n  category: {\n    type: String,\n    required: [true, 'ุงูุฑุฌุงุก ุงุฎุชูุงุฑ ูุฆุฉ ุงูููุงู'],\n    enum: Object.values(BlogCategory),\n    default: BlogCategory.NEWS\n  },\n  // ูุนูููุงุช ุงููุงุชุจ ุงูููุตูุฉ\n  author: AuthorInfoSchema,\n  \n  // ุตูุฑ ููุณุงุฆุท ุงูููุงู\n  featuredImage: {\n    type: String,\n    default: null, // ูููู ุฃู ูููู ุงูููุงู ุจุฏูู ุตูุฑุฉ ูููุฒุฉ\n  },\n  media: {\n    images: [{ type: String }], // ูุณุงุฑุงุช ุงูุตูุฑ ุงูุฅุถุงููุฉ\n    videos: [{\n      url: { type: String }, // ูุณุงุฑ ุงูููุฏูู\n      thumbnail: { type: String, default: null }, // ุตูุฑุฉ ูุตุบุฑุฉ ููููุฏูู\n      title: { type: String, default: '' }, // ุนููุงู ุงูููุฏูู\n      duration: { type: Number, default: 0 } // ูุฏุฉ ุงูููุฏูู ุจุงูุซูุงูู\n    }]\n  },\n  \n  // ุงูุชูุงุนู ูุน ุงูููุงู\n  interaction: {\n    likes: [{ type: String }], // ูุงุฆูุฉ ูุนุฑูุงุช ุงููุณุชุฎุฏููู ุงูุฐูู ุฃุนุฌุจูุง ุจุงูููุงู\n    shares: { type: Number, default: 0 }, // ุนุฏุฏ ูุฑุงุช ูุดุงุฑูุฉ ุงูููุงู\n    bookmarks: [{ type: String }], // ูุงุฆูุฉ ูุนุฑูุงุช ุงููุณุชุฎุฏููู ุงูุฐูู ุญูุธูุง ุงูููุงู\n    views: { type: Number, default: 0 }, // ุนุฏุฏ ุงููุดุงูุฏุงุช\n    // ุฅุถุงูุฉ ูุณู ุงูุชูุงุนูุงุช ุงููุชุนุฏุฏุฉ\n    reactions: {\n      fire: [{ type: String }],    // ุชูุงุนู ูุงุฑ - ูุนุฑูุงุช ุงููุณุชุฎุฏููู\n      shield: [{ type: String }],  // ุชูุงุนู ุฏุฑุน - ูุนุฑูุงุช ุงููุณุชุฎุฏููู\n      crown: [{ type: String }],   // ุชูุงุนู ุชุงุฌ - ูุนุฑูุงุช ุงููุณุชุฎุฏููู\n      castle: [{ type: String }],  // ุชูุงุนู ููุนุฉ - ูุนุฑูุงุช ุงููุณุชุฎุฏููู \n      laugh: [{ type: String }]    // ุชูุงุนู ุถุญู - ูุนุฑูุงุช ุงููุณุชุฎุฏููู\n    }\n  },\n  \n  // ุงูุชุนูููุงุช ุนูู ุงูููุงู\n  comments: [CommentSchema],\n  \n  // ูููุงุช ููุชุงุญูุฉ ููุณูู\n  tags: [{\n    type: String,\n    trim: true\n  }],\n  \n  // ุชูููุฒ ุงูููุงู\n  isFeatured: { type: Boolean, default: false }, // ูู ุงูููุงู ูููุฒุ\n  isPinned: { type: Boolean, default: false }, // ูู ุงูููุงู ูุซุจุช ูู ุงูุฃุนููุ\n  isPublished: { type: Boolean, default: true }, // ูู ุงูููุงู ููุดูุฑุ\n  needsReview: { type: Boolean, default: true }, // ูู ูุญุชุงุฌ ุงูููุงู ููุฑุงุฌุนุฉุ (ูููุดุงุฑูุงุช ุงูุฌุฏูุฏุฉ)\n  \n  // ุชูุงุฑูุฎ\n  createdAt: { type: Date, default: Date.now },\n  updatedAt: { type: Date, default: Date.now },\n  publishedAt: { type: Date, default: null } // ุชุงุฑูุฎ ุงููุดุฑ ุงููุนูู\n}, {\n  timestamps: true\n});\n\n// ุฅูุดุงุก ููุฑุณ ููุจุญุซ ุงููุตู\nBlogPostSchema.index({ title: 'text', content: 'text', tags: 'text' });\n\n// ุฅูุดุงุก ุงููููุฐุฌ (ุฅุฐุง ูู ููู ููุฌูุฏ ุจุงููุนู)\nexport default mongoose.models.BlogPost || mongoose.model('BlogPost', BlogPostSchema);\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 579, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/minaa/CascadeProjects/conquerors-website/src/lib/mongoHelpers.ts"],"sourcesContent":["import mongoose from 'mongoose';\n\n/**\n * ูุธุงุฆู ูุณุงุนุฏุฉ ูุชุฌุงูุฒ ูุดุงูู TypeScript ูุน Mongoose\n */\n\nexport async function findDocById(model: any, id: string) {\n  // ุงุณุชุฎุฏุงู mongoose.model ูุชุฌูุจ ุฃุฎุทุงุก TypeScript ูุน findById\n  return await model.findById(id).lean().exec();\n}\n\nexport async function findOnDoc(model: any, query: any) {\n  // ุงุณุชุฎุฏุงู lean() ูexec() ูุชุฌูุจ ุฃุฎุทุงุก TypeScript\n  return await model.findOne(query).lean().exec();\n}\n\nexport async function findDocs(model: any, query: any = {}, options: any = {}) {\n  // ุงููุนุงููุงุช ุงูุงูุชุฑุงุถูุฉ\n  const { sort = { createdAt: -1 }, limit = 100, skip = 0 } = options;\n  \n  // ุงุณุชุฎุฏุงู Model.find ุซู lean() ุซู exec() \n  return await model.find(query).sort(sort).skip(skip).limit(limit).lean().exec();\n}\n\nexport async function updateDoc(model: any, query: any, update: any, options: any = {}) {\n  return await model.updateOne(query, update, options).exec();\n}\n\nexport async function deleteDoc(model: any, query: any) {\n  return await model.deleteOne(query).exec();\n}\n\nexport async function countDocs(model: any, query: any = {}) {\n  return await model.countDocuments(query).exec();\n}\n\n/**\n * ุฏุงูุฉ ูุณุงุนุฏุฉ ูุชุญููู ูุนุฑูุงุช MongoDB (_id) ุฅูู id ููุงุณุชุฎุฏุงู ูู ูุงุฌูุฉ ุงููุณุชุฎุฏู\n * @param docs ูุณุชูุฏุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุชู ุชุญููููุง\n * @returns ุงููุณุชูุฏุงุช ูุน ุฅุถุงูุฉ ุญูู id\n */\nexport function addClientIds<T extends Record<string, any>>(docs: T | T[]): T | T[] {\n  if (!docs) return docs;\n  \n  // ุฅุฐุง ูุงู ุงููุณุชูุฏ ูุตูููุฉ\n  if (Array.isArray(docs)) {\n    return docs.map(doc => addClientIds(doc)) as T[];\n  }\n  \n  // ุฅุฐุง ูุงู ุงููุณุชูุฏ ูุงุฆููุง ูุงุญุฏูุง\n  const docCopy = { ...docs } as Record<string, any>;\n  \n  // ุฅุถุงูุฉ ุญูู id ุฅุฐุง ูุงู ุงููุณุชูุฏ ูุญุชูู ุนูู _id\n  if (docCopy._id) {\n    // ุชุญููู _id ุฅูู ุณูุณูุฉ ูุตูุฉ ุฅุฐุง ูุงู ูุงุฆููุง\n    const idStr = typeof docCopy._id === 'object' && docCopy._id.toString \n      ? docCopy._id.toString() \n      : docCopy._id;\n    \n    // ุฅุถุงูุฉ ุญูู id ููุท ุฅุฐุง ูู ููู ููุฌูุฏูุง ุจุงููุนู\n    if (!docCopy.id) {\n      docCopy.id = idStr;\n    }\n  }\n  \n  return docCopy as T;\n}\n"],"names":[],"mappings":";;;;;;;;;AAMO,eAAe,YAAY,KAAU,EAAE,EAAU;IACtD,4DAA4D;IAC5D,OAAO,MAAM,MAAM,QAAQ,CAAC,IAAI,IAAI,GAAG,IAAI;AAC7C;AAEO,eAAe,UAAU,KAAU,EAAE,KAAU;IACpD,gDAAgD;IAChD,OAAO,MAAM,MAAM,OAAO,CAAC,OAAO,IAAI,GAAG,IAAI;AAC/C;AAEO,eAAe,SAAS,KAAU,EAAE,QAAa,CAAC,CAAC,EAAE,UAAe,CAAC,CAAC;IAC3E,uBAAuB;IACvB,MAAM,EAAE,OAAO;QAAE,WAAW,CAAC;IAAE,CAAC,EAAE,QAAQ,GAAG,EAAE,OAAO,CAAC,EAAE,GAAG;IAE5D,0CAA0C;IAC1C,OAAO,MAAM,MAAM,IAAI,CAAC,OAAO,IAAI,CAAC,MAAM,IAAI,CAAC,MAAM,KAAK,CAAC,OAAO,IAAI,GAAG,IAAI;AAC/E;AAEO,eAAe,UAAU,KAAU,EAAE,KAAU,EAAE,MAAW,EAAE,UAAe,CAAC,CAAC;IACpF,OAAO,MAAM,MAAM,SAAS,CAAC,OAAO,QAAQ,SAAS,IAAI;AAC3D;AAEO,eAAe,UAAU,KAAU,EAAE,KAAU;IACpD,OAAO,MAAM,MAAM,SAAS,CAAC,OAAO,IAAI;AAC1C;AAEO,eAAe,UAAU,KAAU,EAAE,QAAa,CAAC,CAAC;IACzD,OAAO,MAAM,MAAM,cAAc,CAAC,OAAO,IAAI;AAC/C;AAOO,SAAS,aAA4C,IAAa;IACvE,IAAI,CAAC,MAAM,OAAO;IAElB,yBAAyB;IACzB,IAAI,MAAM,OAAO,CAAC,OAAO;QACvB,OAAO,KAAK,GAAG,CAAC,CAAA,MAAO,aAAa;IACtC;IAEA,gCAAgC;IAChC,MAAM,UAAU;QAAE,GAAG,IAAI;IAAC;IAE1B,6CAA6C;IAC7C,IAAI,QAAQ,GAAG,EAAE;QACf,0CAA0C;QAC1C,MAAM,QAAQ,OAAO,QAAQ,GAAG,KAAK,YAAY,QAAQ,GAAG,CAAC,QAAQ,GACjE,QAAQ,GAAG,CAAC,QAAQ,KACpB,QAAQ,GAAG;QAEf,6CAA6C;QAC7C,IAAI,CAAC,QAAQ,EAAE,EAAE;YACf,QAAQ,EAAE,GAAG;QACf;IACF;IAEA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 640, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/minaa/CascadeProjects/conquerors-website/src/app/api/blog/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\nimport { BlogCategory } from '@/types/blog';\nimport dbConnect from '@/lib/dbConnect';\nimport BlogPost from '@/models/BlogPost';\nimport mongoose from 'mongoose';\nimport { findDocById, findOnDoc, findDocs, updateDoc, deleteDoc, countDocs, addClientIds } from '@/lib/mongoHelpers';\n\n/**\n * ุชุญููู ุงูุนููุงู ุฅูู slug ุตุฏูู ููู URL\n * @param text ุงููุต ุงููุฑุงุฏ ุชุญูููู\n * @returns slug ููุณู\n */\nfunction slugify(text: string): string {\n  return text\n    .toString()\n    .normalize('NFD') // ุชุทุจูุน ุงููุต\n    .replace(/[\\u0300-\\u036f]/g, '') // ุฅุฒุงูุฉ ุนูุงูุงุช ุงูุชุดููู\n    .toLowerCase() // ุชุญููู ุฅูู ุฃุญุฑู ุตุบูุฑุฉ\n    .trim() // ุฅุฒุงูุฉ ุงููุณุงูุงุช ุงูุฒุงุฆุฏุฉ\n    .replace(/\\s+/g, '-') // ุงุณุชุจุฏุงู ุงููุณุงูุงุช ุจุดุฑุทุงุช\n    .replace(/[^\\w\\-]+/g, '') // ุฅุฒุงูุฉ ุฌููุน ุงูุฃุญุฑู ุบูุฑ ุงููููุงุช\n    .replace(/\\-\\-+/g, '-') // ุงุณุชุจุฏุงู ุงูุดุฑุทุงุช ุงููุชุนุฏุฏุฉ ุจุดุฑุทุฉ ูุงุญุฏุฉ\n    .replace(/^-+/, '') // ุฅุฒุงูุฉ ุงูุดุฑุทุงุช ูู ุงูุจุฏุงูุฉ\n    .replace(/-+$/, ''); // ุฅุฒุงูุฉ ุงูุดุฑุทุงุช ูู ุงูููุงูุฉ\n}\n\n/**\n * API ููุญุตูู ุนูู ุงูููุงูุงุช (ุฌููุน ุงูููุงูุงุช ุฃู ููุงู ูุญุฏุฏ)\n */\nexport async function GET(request: NextRequest) {\n  // ุฃูุตู ุนุฏุฏ ููุญุงููุงุช ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช\n  const MAX_RETRIES = 2;\n  let retryCount = 0;\n  \n  while (retryCount <= MAX_RETRIES) {\n    try {\n      console.log(`ูุญุงููุฉ ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช (${retryCount + 1}/${MAX_RETRIES + 1})`);\n      \n      // ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช\n      await dbConnect();\n\n      // ุงุณุชุฎุฑุงุฌ ุงููุนููุงุช ูู ุงูู URL\n      const url = new URL(request.url);\n      const slug = url.searchParams.get('slug');\n      const id = url.searchParams.get('id');\n      \n      // ุฅุฐุง ุชู ุชูุฏูู ูุนุฑู ุฃู slugุ ูู ุจุฅุฑุฌุงุน ุงูููุงู ุงููุญุฏุฏ\n      if (slug) {\n        // ุงุณุชุฎุฏุงู ุงููุธููุฉ ุงููุณุงุนุฏุฉ findOnDoc ูุชุฌูุจ ุฃุฎุทุงุก TypeScript\n        const post = await findOnDoc(BlogPost, { \n          slug: slug, \n          isPublished: true \n        });\n        \n        if (!post) {\n          return NextResponse.json(\n            { error: 'ุงูููุงู ุบูุฑ ููุฌูุฏ' },\n            { status: 404 }\n          );\n        }\n        \n        // ุฒูุงุฏุฉ ุนุฏุฏ ุงููุดุงูุฏุงุช ุจุงุณุชุฎุฏุงู updateDoc\n        await updateDoc(BlogPost, \n          { slug: slug },\n          { $inc: { \"interaction.views\": 1 } }\n        );\n\n        // ุชุญููู ูุนุฑูุงุช MongoDB ุฅูู id ูููุงุฌูุฉ\n        const clientPost = addClientIds(post);\n        \n        // ุทุจุงุนุฉ ูุนูููุงุช ุงูุชุตุญูุญ\n        console.log(`ุงุณุชุฌุงุจุฉ API ููููุงู ุงููุฑุฏู (${slug}): ุตูุฑุฉ: ${clientPost.featuredImage ? 'ููุฌูุฏุฉ' : 'ุบูุฑ ููุฌูุฏุฉ'}`);\n        \n        return NextResponse.json({ post: clientPost });\n      }\n      \n      if (id) {\n        // ุงุณุชุฎุฏุงู ุงููุธููุฉ ุงููุณุงุนุฏุฉ findDocById ูุชุฌูุจ ุฃุฎุทุงุก TypeScript\n        const post = await findDocById(BlogPost, id);\n        \n        if (!post) {\n          return NextResponse.json(\n            { error: 'ุงูููุงู ุบูุฑ ููุฌูุฏ' },\n            { status: 404 }\n          );\n        }\n\n        // ุชุญููู ูุนุฑูุงุช MongoDB ุฅูู id ูููุงุฌูุฉ\n        const clientPost = addClientIds(post);\n        \n        return NextResponse.json({ post: clientPost });\n      }\n      \n      // ุฅุฑุฌุงุน ุฌููุน ุงูููุงูุงุช ุงูููุดูุฑุฉ ูุน ุฏุนู ุงูุชุตููู ูุงูุชุฑุชูุจ\n      const page = parseInt(url.searchParams.get('page') || '1');\n      const limit = parseInt(url.searchParams.get('limit') || '10');\n      const sort = url.searchParams.get('sort') || 'recent';\n      const category = url.searchParams.get('category');\n      \n      // ุฅูุดุงุก ุดุฑูุท ุงูุจุญุซ\n      const query: any = {};\n      \n      // ุฅุฐุง ูู ูุชู ุทูุจ ุนุฑุถ ุงูููุดูุฑุงุช ุบูุฑ ุงูููุดูุฑุฉุ ูุนุฑุถ ููุท ุงูููุดูุฑุงุช ุงูููุดูุฑุฉ\n      const includeUnpublished = url.searchParams.get('includeUnpublished') === 'true';\n      if (!includeUnpublished) {\n        query.isPublished = true;\n      }\n      \n      if (category) {\n        query.category = category;\n      }\n      \n      // ุชุญุฏูุฏ ุทุฑููุฉ ุงูุชุฑุชูุจ\n      let sortOption: any = { createdAt: -1 }; // ุงูุงูุชุฑุงุถู: ุงูุฃุญุฏุซ ุฃููุงู\n      \n      if (sort === 'popular') {\n        sortOption = { \"interaction.views\": -1 }; // ุงูุฃูุซุฑ ูุดุงูุฏุฉ\n      } else if (sort === 'comments') {\n        sortOption = { \"comments.length\": -1 }; // ุงูุฃูุซุฑ ุชุนูููุงุช\n      }\n      \n      // ุญุณุงุจ ุงูุชุฎุทู ููุตูุญุงุช\n      const skip = (page - 1) * limit;\n      \n      console.log('Query:', JSON.stringify(query));\n      console.log('Sort:', JSON.stringify(sortOption));\n      \n      // ุชูููุฐ ุงูุงุณุชุนูุงู ูุน ุงูุชุฑุชูุจ ูุงูุชูุณูู ุฅูู ุตูุญุงุช\n      // ุงุณุชุฎุฏุงู ุงููุธููุฉ ุงููุณุงุนุฏุฉ findDocs ูุชุฌูุจ ุฃุฎุทุงุก TypeScript\n      const posts = await findDocs(BlogPost, query, {\n        sort: sortOption,\n        skip: skip,\n        limit: limit\n      });\n      \n      console.log(`ุชู ุงุณุชุฑุฌุงุน ${posts.length} ููุดูุฑุงุช`);\n      \n      // ุงูุญุตูู ุนูู ุฅุฌูุงูู ุนุฏุฏ ุงูููุงูุงุช ููุชุฑููู\n      const total = await countDocs(BlogPost, query);\n      const totalPages = Math.ceil(total / limit);\n      \n      // ุชุญููู ูุนุฑูุงุช ุงูููุดูุฑุงุช ูู MongoDB ุฅูู id ูููุงุฌูุฉ\n      const clientPosts = addClientIds(posts);\n      \n      // ุงูุทุจุงุนุฉ ููุชุตุญูุญ\n      console.log('ุชุญููู ููุดูุฑุงุช MongoDB ุฅูู ููุดูุฑุงุช ููุงุฌูุฉ ุงููุณุชุฎุฏู ูุน ุงูุตูุฑ:');\n      clientPosts.forEach(post => {\n        console.log(`ุงูููุดูุฑ: ${post.title} - ุตูุฑุฉ: ${post.featuredImage ? 'ููุฌูุฏุฉ' : 'ุบูุฑ ููุฌูุฏุฉ'}`);\n      });\n      \n      // ุฅุฑุฌุงุน ุงููุชุงุฆุฌ ูุน ูุนูููุงุช ุงูุชุฑููู\n      const pagination = {\n        total,\n        page,\n        limit,\n        totalPages,\n      };\n      \n      return NextResponse.json({ \n        posts: clientPosts, \n        pagination \n      });\n      \n    } catch (error) {\n      retryCount++;\n      \n      if (retryCount > MAX_RETRIES) {\n        console.error('Error fetching posts after maximum retries:', error);\n        \n        // ุชูุงุตูู ุฅุถุงููุฉ ููุฎุทุฃ\n        let errorMessage = 'ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุฌูุจ ุงูููุงูุงุช';\n        let errorDetails = '';\n        \n        if (error instanceof Error) {\n          errorDetails = error.message;\n          \n          // ุชุญุณูู ุฑุณุงุฆู ุงูุฎุทุฃ\n          if (error.message.includes('MongoServerSelectionError')) {\n            errorMessage = 'ุชุนุฐุฑ ุงูุงุชุตุงู ุจุฎุงุฏู ูุงุนุฏุฉ ุงูุจูุงูุงุช';\n          } else if (error.message.includes('Authentication failed')) {\n            errorMessage = 'ูุดู ุงููุตุงุฏูุฉ ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช';\n          } else if (error.message.includes('Operation')) {\n            errorMessage = 'ุงูุชูุช ูููุฉ ุนูููุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช';\n          }\n        }\n        \n        return NextResponse.json(\n          { \n            error: errorMessage, \n            details: errorDetails,\n            code: 'DB_ERROR' \n          },\n          { status: 500 }\n        );\n      }\n      \n      // ุงูุชุธุงุฑ ูุจู ุงููุญุงููุฉ ูุฑุฉ ุฃุฎุฑู - ุชุฒุฏุงุฏ ุงููุฏุฉ ูุน ูู ูุญุงููุฉ\n      const delay = 1000 * retryCount; // 1 ุซุงููุฉุ ุซู 2 ุซุงููุฉ\n      console.log(`ูุดู ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุชุ ุฅุนุงุฏุฉ ุงููุญุงููุฉ ุจุนุฏ ${delay}ms...`);\n      await new Promise(resolve => setTimeout(resolve, delay));\n    }\n  }\n  \n  // ูู ูุชู ุงููุตูู ุฅูู ูุฐู ุงูููุทุฉ ุฃุจุฏูุง ุจุณุจุจ ุญููุฉ ุงููุญุงููุฉ ุฃุนูุงู\n  return NextResponse.json(\n    { error: 'ุฎุทุฃ ุบูุฑ ูุชููุน' },\n    { status: 500 }\n  );\n}\n\n/**\n * API ูุฅูุดุงุก ููุงู ุฌุฏูุฏ\n */\nexport async function POST(request: NextRequest) {\n  try {\n    // ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช\n    await dbConnect();\n\n    // ุงูุชุญูู ูู ููุน ุงููุญุชูู\n    const contentType = request.headers.get('content-type') || '';\n    \n    let title = '';\n    let content = '';\n    let summary = '';\n    let category = '';\n    let tags: string[] = [];\n    let featuredImage: string | null = null;\n    let author: any = null;\n    \n    // ุงูุชุนุงูู ูุน FormData (ูู ุญุงูุฉ ุชุญููู ูููุงุช)\n    if (contentType.includes('multipart/form-data')) {\n      const formData = await request.formData();\n      \n      title = formData.get('title') as string || '';\n      content = formData.get('content') as string || '';\n      category = formData.get('category') as string || 'news';\n      const authorName = formData.get('authorName') as string || 'ูุณุชุฎุฏู ุฌุฏูุฏ';\n      const authorAvatar = formData.get('authorAvatar') as string || '/images/avatars/default.png';\n      \n      // ูุนุงูุฌุฉ ุงูุตูุฑุฉ ุงููุฑููุฉ\n      const imageFile = formData.get('image') as File;\n      if (imageFile && imageFile.size > 0) {\n        console.log('ุชู ุงุณุชูุงู ููู ุตูุฑุฉ:', imageFile.name, 'ุญุฌู:', imageFile.size);\n        \n        try {\n          // ุชุญููู ุงูุตูุฑุฉ ุฅูู Data URL ููุนุฑุถ ูุจุงุดุฑุฉ\n          const arrayBuffer = await imageFile.arrayBuffer();\n          const buffer = Buffer.from(arrayBuffer);\n          const base64 = buffer.toString('base64');\n          const contentType = imageFile.type || 'image/jpeg';\n          featuredImage = `data:${contentType};base64,${base64}`;\n          console.log('ุชู ูุนุงูุฌุฉ ุงูุตูุฑุฉ ุจูุฌุงุญ ูุชุญููููุง ุฅูู ุตูุบุฉ ูุงุจูุฉ ููุนุฑุถ');\n        } catch (error) {\n          console.error('ุฎุทุฃ ูู ูุนุงูุฌุฉ ููู ุงูุตูุฑุฉ:', error);\n        }\n      } else {\n        console.log('ูู ูุชู ุงูุนุซูุฑ ุนูู ููู ุงูุตูุฑุฉ ูู FormData ุฃู ุฃู ุงูููู ูุงุฑุบ');\n      }\n      \n      // ุฅูุดุงุก ููุฎุต ูู ุงููุญุชูู ุฅุฐุง ูู ููู ููุฌูุฏูุง\n      summary = content.substring(0, 150) + (content.length > 150 ? '...' : '');\n      \n      // ูุนูููุงุช ุงููุคูู\n      author = {\n        name: authorName,\n        avatar: authorAvatar,\n        isVerified: false\n      };\n    } \n    // ุงูุชุนุงูู ูุน JSON\n    else {\n      const body = await request.json();\n      title = body.title || '';\n      content = body.content || '';\n      summary = body.summary || '';\n      category = body.category || '';\n      tags = body.tags || [];\n      featuredImage = body.featuredImage || null;\n      author = body.author || null;\n    }\n\n    // ุงูุชุญูู ูู ูุฌูุฏ ูุญุชูู\n    if (!content) {\n      return NextResponse.json(\n        { error: 'ูุญุชูู ุงูููุดูุฑ ูุทููุจ' },\n        { status: 400 }\n      );\n    }\n    \n    // ุงูุชุฃูุฏ ูู ูุฌูุฏ ุนููุงู ููุงุณุจ\n    if (!title || title.trim() === '') {\n      title = content.substring(0, 50) + (content.length > 50 ? '...' : '');\n    }\n    \n    // ุงูุชุฃูุฏ ูู ูุฌูุฏ ููุฎุต\n    if (!summary || summary.trim() === '') {\n      summary = content.substring(0, 150) + (content.length > 150 ? '...' : '');\n    }\n    \n    // ุงูุชุฃูุฏ ูู ูุฌูุฏ ูุฆุฉ\n    if (!category) {\n      category = 'news';\n    }\n\n    // ุฅูุดุงุก slug ูุฑูุฏ ูู ุงูุนููุงู\n    let slug = slugify(title);\n    if (!slug) {\n      slug = 'post-' + Date.now().toString();\n    }\n    \n    // ุงูุชุญูู ููุง ุฅุฐุง ูุงู ุงูู slug ููุฌูุฏูุง ุจุงููุนู\n    const existingPost = await findOnDoc(BlogPost, { \n      slug: slug \n    });\n    \n    if (existingPost) {\n      // ุฅุถุงูุฉ ุฑูู ุนุดูุงุฆู ูุชุฌูุจ ุชูุฑุงุฑ ุงูู slug\n      slug = `${slug}-${Date.now().toString().slice(-6)}`;\n    }\n    \n    // ุฅูุดุงุก ููุงู ุฌุฏูุฏ\n    const newPost = new mongoose.models.BlogPost({\n      title,\n      slug,\n      content,\n      summary,\n      category,\n      tags: tags || [],\n      featuredImage: featuredImage || null,\n      author: {\n        name: author?.name || 'ูุฑูู ุงููุงุชุญูู',\n        avatar: author?.avatar || '/images/avatars/team.png',\n        isVerified: author?.isVerified || false\n      },\n      interaction: {\n        likes: [],\n        shares: 0,\n        views: 0,\n        bookmarks: []\n      },\n      isPublished: true, // ุชุบููุฑ ููููู ููุดูุฑูุง ุจุดูู ุงูุชุฑุงุถู\n      isApproved: true // ุชุบููุฑ ููููู ููุงูููุง ุนููู ุจุดูู ุงูุชุฑุงุถู\n    });\n    \n    // ุญูุธ ุงูููุงู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช\n    await newPost.save();\n    \n    return NextResponse.json({\n      success: true,\n      post: newPost\n    });\n  } catch (error) {\n    console.error('Error creating post:', error);\n    return NextResponse.json(\n      { error: 'ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุฅูุดุงุก ุงูููุงู' },\n      { status: 500 }\n    );\n  }\n}\n\n/**\n * API ูุชุญุฏูุซ ููุงู ููุฌูุฏ\n */\nexport async function PUT(request: NextRequest) {\n  try {\n    // ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช\n    await dbConnect();\n    \n    const body = await request.json();\n    console.log('Request body:', JSON.stringify(body, null, 2));\n    \n    const { id, title, content, summary, category, tags, isPublished, isApproved, featuredImage } = body;\n    \n    if (!id) {\n      console.error('ุฎุทุฃ: ูุนุฑู ุงูููุงู ุบูุฑ ููุฌูุฏ ูู ุงูุทูุจ');\n      return NextResponse.json(\n        { error: 'ูุนุฑู ุงูููุงู ูุทููุจ' },\n        { status: 400 }\n      );\n    }\n    \n    // ุชุญุฏูุซ ุงูููุงู ูุจุงุดุฑุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช\n    const updateData: any = {\n      updatedAt: new Date()\n    };\n    \n    if (title) {\n      updateData.title = title;\n      \n      // ุชุญุฏูุซ ุงูู slug ุฅุฐุง ุชุบูุฑ ุงูุนููุงู\n      let newSlug = slugify(title);\n      if (!newSlug) {\n        newSlug = 'post-' + Date.now().toString();\n      }\n      \n      const existingPost = await findOnDoc(BlogPost, { \n        slug: newSlug, \n        _id: { $ne: id } \n      });\n      \n      if (existingPost) {\n        // ุฅุถุงูุฉ ุชุงุฑูุฎ ููู slug ูุชุฌูุจ ุงูุชูุฑุงุฑ\n        newSlug = `${newSlug}-${Date.now().toString().slice(-6)}`;\n      }\n      \n      updateData.slug = newSlug;\n    }\n    \n    if (content) updateData.content = content;\n    if (summary) updateData.summary = summary;\n    if (category) updateData.category = category;\n    if (tags) updateData.tags = tags;\n    \n    if (isPublished !== undefined) {\n      updateData.isPublished = isPublished;\n    }\n    \n    if (isApproved !== undefined) {\n      updateData.isApproved = isApproved;\n    }\n    \n    // ุฅุถุงูุฉ ูุนุงูุฌุฉ ูุญูู ุงูุตูุฑุฉ ุงููููุฒุฉ\n    if (featuredImage !== undefined) {\n      updateData.featuredImage = featuredImage;\n      console.log('ุชุญุฏูุซ ุงูุตูุฑุฉ ุงููููุฒุฉ:', featuredImage);\n    }\n    \n    try {\n      // ุงุณุชุฎุฏุงู updateDoc ูุน ุงูุชุญูู ูู ุงูููุน\n      if (!mongoose.Types.ObjectId.isValid(id)) {\n        return NextResponse.json(\n          { error: 'ูุนุฑู ุงูููุงู ุบูุฑ ุตุงูุญ' },\n          { status: 400 }\n        );\n      }\n\n      // ุชุญุฏูุซ ุงูููุงู ูุน ุงูุชุญูู ูู ุงููุฌุงุญ\n      const updateResult = await updateDoc(BlogPost, { _id: id }, updateData);\n      \n      if (!updateResult) {\n        throw new Error('ูุดู ูู ุชุญุฏูุซ ุงูููุงู');\n      }\n      \n      // ุฌูุจ ุงูููุงู ุงููุญุฏุซ ูุน ุงูุชุญูู ูู ูุฌูุฏู\n      const post = await findDocById(BlogPost, id);\n      \n      if (!post) {\n        return NextResponse.json(\n          { error: 'ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุฌูุจ ุงูููุงู ุงููุญุฏุซ' },\n          { status: 500 }\n        );\n      }\n      \n      // ูุธุฑูุง ูุฃู findDocById ูุณุชุฎุฏู lean()ุ ูุงููุชูุฌุฉ ูู ูุงุฆู JavaScript ุนุงุฏู ูููุณ ูุซููุฉ Mongoose\n      return NextResponse.json({\n        success: true,\n        post: {\n          ...post, // ุงุณุชุฎุฏุงู ุงููุงุฆู ูุจุงุดุฑุฉ ุจุฏูุงู ูู ุงุณุชุฏุนุงุก toObject()\n          _id: post._id.toString(),\n          createdAt: post.createdAt ? new Date(post.createdAt).toISOString() : undefined,\n          updatedAt: post.updatedAt ? new Date(post.updatedAt).toISOString() : undefined\n        }\n      });\n    } catch (error) {\n      console.error('Error updating post:', error);\n      return NextResponse.json(\n        { error: 'ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุชุญุฏูุซ ุงูููุงู' },\n        { status: 500 }\n      );\n    }\n  } catch (error) {\n    console.error('Error updating post:', error);\n    return NextResponse.json(\n      { error: 'ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุชุญุฏูุซ ุงูููุงู' },\n      { status: 500 }\n    );\n  }\n}\n\n/**\n * API ูุญุฐู ููุงู\n */\nexport async function DELETE(request: NextRequest) {\n  try {\n    // ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช\n    await dbConnect();\n    \n    const url = new URL(request.url);\n    const id = url.searchParams.get('id');\n    \n    if (!id) {\n      return NextResponse.json(\n        { error: 'ูุนุฑู ุงูููุงู ูุทููุจ' },\n        { status: 400 }\n      );\n    }\n    \n    // ุงูุชุญูู ูู ูุฌูุฏ ุงูููุงู ูุจู ุงูุญุฐู\n    const exists = await findDocById(BlogPost, id);\n    \n    if (!exists) {\n      return NextResponse.json(\n        { error: 'ุงูููุงู ุบูุฑ ููุฌูุฏ' },\n        { status: 404 }\n      );\n    }\n    \n    // ุญุฐู ุงูููุงู\n    await deleteDoc(BlogPost, { _id: id });\n    \n    return NextResponse.json({ \n      success: true,\n      message: 'ุชู ุญุฐู ุงูููุงู ุจูุฌุงุญ'\n    });\n  } catch (error) {\n    console.error('Error deleting post:', error);\n    return NextResponse.json(\n      { error: 'ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุญุฐู ุงูููุงู' },\n      { status: 500 }\n    );\n  }\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}