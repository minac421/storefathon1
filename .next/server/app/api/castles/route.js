(()=>{var e={};e.id=745,e.ids=[745],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},52864:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var o=r(56037),n=r.n(o);let s=new(n()).Schema({name:{type:String,required:[!0,"Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù‚Ù„Ø¹Ø©"],trim:!0},description:{type:String,required:[!0,"Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ ÙˆØµÙ Ø§Ù„Ù‚Ù„Ø¹Ø©"]},level:{type:Number,required:[!0,"Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªØ­Ø¯ÙŠØ¯ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù‚Ù„Ø¹Ø©"],min:1},strength:{type:Number,required:[!0,"Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªØ­Ø¯ÙŠØ¯ Ù‚ÙˆØ© Ø§Ù„Ù‚Ù„Ø¹Ø©"],min:1},price:{type:Number,required:[!0,"Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªØ­Ø¯ÙŠØ¯ Ø³Ø¹Ø± Ø§Ù„Ù‚Ù„Ø¹Ø©"],min:0},features:[{type:String,trim:!0}],icon:{type:String,default:"\uD83C\uDFF0"},popular:{type:Boolean,default:!1},videoUrl:{type:String},createdAt:{type:Date,default:Date.now},updatedAt:{type:Date,default:Date.now}},{timestamps:!0});s.index({name:"text",description:"text"});let a=n().models.Castle||n().model("Castle",s)},56037:e=>{"use strict";e.exports=require("mongoose")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},71812:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>w,routeModule:()=>g,serverHooks:()=>h,workAsyncStorage:()=>f,workUnitAsyncStorage:()=>y});var o={};r.r(o),r.d(o,{DELETE:()=>m,GET:()=>u,POST:()=>p,PUT:()=>d});var n=r(96559),s=r(48088),a=r(37719),i=r(32190),c=r(88839),l=r(52864);async function u(e){try{await (0,c.A)();let t=new URL(e.url),r=t.searchParams.get("level"),o=t.searchParams.get("sortBy")||"createdAt",n=t.searchParams.get("sortOrder")||"desc",s={};r&&(s.level=parseInt(r));let a={};a[o]="asc"===n?1:-1;let u=await l.A.countDocuments(s),p=(await l.A.find(s).sort(a).limit(500)).map(e=>{let t=e.toObject();return{id:t._id.toString(),name:t.name,description:t.description,level:t.level,strength:t.strength,price:t.price,features:t.features||[],icon:t.icon||"\uD83C\uDFF0",popular:t.popular||!1,videoUrl:t.videoUrl||""}});return new i.NextResponse(JSON.stringify({castles:p,stats:{totalCastles:u}}),{headers:{"Content-Type":"application/json; charset=utf-8"}})}catch(t){console.error("Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ù‚Ù„Ø§Ø¹:",t);let e=[{id:"1",name:"Ù‚Ù„Ø¹Ø© Ø§Ù„ÙØ§ØªØ­ Ø§Ù„Ø£ÙˆÙ„Ù‰",description:"Ù‚Ù„Ø¹Ø© Ù‚ÙˆÙŠØ© ÙˆÙ…Ø­ØµÙ†Ø© ØªÙˆÙØ± Ø­Ù…Ø§ÙŠØ© Ù…Ù…ØªØ§Ø²Ø© Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† Ø§Ù„Ø¬Ø¯Ø¯. ØªØªÙ…ÙŠØ² Ø¨Ø¬Ø¯Ø±Ø§Ù† Ø³Ù…ÙŠÙƒØ© ÙˆÙ…ÙˆÙ‚Ø¹ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠ.",level:10,strength:75,price:1500,features:["Ø¬Ø¯Ø±Ø§Ù† Ù…Ø­ØµÙ†Ø©","Ø£Ø¨Ø±Ø§Ø¬ Ù…Ø±Ø§Ù‚Ø¨Ø©","Ø®Ù†Ø¯Ù‚ Ø¯ÙØ§Ø¹ÙŠ","Ù…Ø®Ø²Ù† Ù…ÙˆØ§Ø±Ø¯ ØµØºÙŠØ±"],icon:"\uD83C\uDFF0",popular:!0,videoUrl:""},{id:"2",name:"Ù‚Ù„Ø¹Ø© Ø§Ù„Ù…Ø­Ø§Ø±Ø¨",description:"Ù‚Ù„Ø¹Ø© Ù…ØªÙˆØ³Ø·Ø© Ø§Ù„Ø­Ø¬Ù… Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† Ù…Ù† Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù…ØªÙˆØ³Ø·. ØªÙˆÙØ± ØªÙˆØ§Ø²Ù†Ù‹Ø§ Ø¬ÙŠØ¯Ù‹Ø§ Ø¨ÙŠÙ† Ø§Ù„Ø¯ÙØ§Ø¹ ÙˆØ§Ù„Ù‡Ø¬ÙˆÙ….",level:20,strength:85,price:3500,features:["Ø­ÙˆØ§Ø¬Ø² Ø¯ÙØ§Ø¹ÙŠØ© Ù…ØªÙ‚Ø¯Ù…Ø©","Ù…Ø±ÙƒØ² ØªØ¯Ø±ÙŠØ¨ Ù„Ù„Ø¬Ù†ÙˆØ¯","Ù…Ø®Ø²Ù† Ù…ÙˆØ§Ø±Ø¯ Ù…ØªÙˆØ³Ø·","Ø£Ø³Ù„Ø­Ø© Ø¯ÙØ§Ø¹ÙŠØ© Ù…ØªØ·ÙˆØ±Ø©","Ù…Ø±ÙƒØ² Ù‚ÙŠØ§Ø¯Ø© ØªÙƒØªÙŠÙƒÙŠ"],icon:"\uD83C\uDFF0",popular:!1,videoUrl:""},{id:"3",name:"Ù‚Ù„Ø¹Ø© Ø§Ù„ÙØ§ØªØ­ Ø§Ù„Ø°Ù‡Ø¨ÙŠØ©",description:"Ù‚Ù„Ø¹Ø© ÙØ§Ø®Ø±Ø© Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† Ø§Ù„Ù…ØªÙ‚Ø¯Ù…ÙŠÙ†. ØªÙˆÙØ± Ø£Ù‚ØµÙ‰ Ù…Ø³ØªÙˆÙŠØ§Øª Ø§Ù„Ø­Ù…Ø§ÙŠØ© ÙˆØ§Ù„Ù‚Ø¯Ø±Ø© Ø§Ù„Ù‡Ø¬ÙˆÙ…ÙŠØ©.",level:35,strength:100,price:1e4,features:["Ø¯ÙØ§Ø¹Ø§Øª Ø°ÙƒÙŠØ© Ù…ØªÙ‚Ø¯Ù…Ø©","Ù…Ø±ÙƒØ² Ø£Ø¨Ø­Ø§Ø« Ø¹Ø³ÙƒØ±ÙŠ","Ù…Ø®Ø²Ù† Ù…ÙˆØ§Ø±Ø¯ Ø¶Ø®Ù…","Ø¯ÙØ§Ø¹Ø§Øª Ù…Ø¶Ø§Ø¯Ø© Ù„Ù„Ø·Ø§Ø¦Ø±Ø§Øª","Ù…Ø±ÙƒØ² Ù‚ÙŠØ§Ø¯Ø© Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠ","Ø¯Ø±Ø¹ ÙˆÙ‚Ø§Ø¦ÙŠ Ù…ØªØ·ÙˆØ±"],icon:"\uD83C\uDFF0",popular:!0,videoUrl:""}];return new i.NextResponse(JSON.stringify({castles:e,stats:{totalCastles:e.length}}),{headers:{"Content-Type":"application/json; charset=utf-8"}})}}async function p(e){try{await (0,c.A)();let t=await e.json(),r=await l.A.create(t);return new i.NextResponse(JSON.stringify({id:r._id.toString(),success:!0}),{headers:{"Content-Type":"application/json; charset=utf-8"}})}catch(e){return console.error("Ø®Ø·Ø£ ÙÙŠ Ø¥Ø¶Ø§ÙØ© Ù‚Ù„Ø¹Ø© Ø¬Ø¯ÙŠØ¯Ø©:",e),new i.NextResponse(JSON.stringify({error:"Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø¶Ø§ÙØ© Ù‚Ù„Ø¹Ø© Ø¬Ø¯ÙŠØ¯Ø©"}),{status:500,headers:{"Content-Type":"application/json; charset=utf-8"}})}}async function d(e){try{await (0,c.A)();let{id:t,...r}=await e.json();return await l.A.findByIdAndUpdate(t,{...r,updatedAt:new Date}),i.NextResponse.json({success:!0})}catch(e){return console.error("Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚Ù„Ø¹Ø©:",e),new i.NextResponse(JSON.stringify({error:"Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚Ù„Ø¹Ø©"}),{status:500,headers:{"Content-Type":"application/json; charset=utf-8"}})}}async function m(e){try{await (0,c.A)();let t=new URL(e.url).searchParams.get("id");if(!t)return new i.NextResponse(JSON.stringify({error:"Ù…Ø¹Ø±Ù Ø§Ù„Ù‚Ù„Ø¹Ø© Ù…Ø·Ù„ÙˆØ¨"}),{status:400,headers:{"Content-Type":"application/json; charset=utf-8"}});return await l.A.findByIdAndDelete(t),i.NextResponse.json({success:!0})}catch(e){return console.error("Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ù‚Ù„Ø¹Ø©:",e),new i.NextResponse(JSON.stringify({error:"Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø­Ø°Ù Ø§Ù„Ù‚Ù„Ø¹Ø©"}),{status:500,headers:{"Content-Type":"application/json; charset=utf-8"}})}}let g=new n.AppRouteRouteModule({definition:{kind:s.RouteKind.APP_ROUTE,page:"/api/castles/route",pathname:"/api/castles",filename:"route",bundlePath:"app/api/castles/route"},resolvedPagePath:"C:\\Users\\minaa\\CascadeProjects\\conquerors-website\\src\\app\\api\\castles\\route.ts",nextConfigOutput:"",userland:o}),{workAsyncStorage:f,workUnitAsyncStorage:y,serverHooks:h}=g;function w(){return(0,a.patchFetch)({workAsyncStorage:f,workUnitAsyncStorage:y})}},78335:()=>{},88839:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var o=r(56037),n=r.n(o);let s=process.env.MONGODB_URI||"mongodb+srv://minaadelc4:cHjkStQnKuh91sNt@storefathone.a42qbk5.mongodb.net/storefathon?retryWrites=true&w=majority&appName=storefathone",a={connected:1,connecting:2},i=["Ù…Ù†ÙØµÙ„","Ù…ØªØµÙ„","Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§ØªØµØ§Ù„","Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§Ù†ÙØµØ§Ù„"];if(!s)throw Error("ÙŠØ±Ø¬Ù‰ ØªØ­Ø¯ÙŠØ¯ Ø±Ø§Ø¨Ø· MONGODB_URI ÙÙŠ Ù…Ù„Ù .env.local");let c=global.mongoose;c||(c=global.mongoose={conn:null,promise:null,errorCount:0,lastErrorTime:null});let l=async function(){if(c.conn)try{let e=c.conn.readyState;if(e===a.connected)return c.conn;console.log(`âš ï¸ Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØºÙŠØ± ØµØ§Ù„Ø­Ø© (readyState=${e})ØŒ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§ØªØµØ§Ù„...`),c.conn=null,c.promise=null}catch(e){console.error("âŒ Ø®Ø·Ø£ Ø¹Ù†Ø¯ ÙØ­Øµ Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„ Ø§Ù„Ø­Ø§Ù„ÙŠ:",e),c.conn=null,c.promise=null}if(c.lastErrorTime&&Date.now()-c.lastErrorTime>6e4&&(console.log("\uD83D\uDD04 Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø· Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø¨Ø¹Ø¯ Ù…Ø±ÙˆØ± Ø¯Ù‚ÙŠÙ‚Ø©"),c.errorCount=0,c.lastErrorTime=null),c.errorCount>5){let e=c.lastErrorTime?Math.floor((Date.now()-c.lastErrorTime)/1e3):0;if(console.error(`â›” ØªØ¬Ø§ÙˆØ² Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„ (${c.errorCount}). Ø¢Ø®Ø± Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ù†Ø° ${e} Ø«Ø§Ù†ÙŠØ©.`),e>60)console.log("\uD83D\uDD04 Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø· Ø¹Ø¯Ø§Ø¯ Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø¹Ø¯ ÙØªØ±Ø© Ø§Ù†ØªØ¸Ø§Ø±"),c.errorCount=0;else throw Error(`ØªØ¬Ø§ÙˆØ² Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª. Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ Ù„Ø§Ø­Ù‚Ù‹Ø§ (${Math.max(0,60-e)} Ø«Ø§Ù†ÙŠØ© Ù…ØªØ¨Ù‚ÙŠØ©)`)}c.promise?console.log("â™»ï¸ Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙˆØ¹Ø¯ Ø§ØªØµØ§Ù„ Ù…ÙˆØ¬ÙˆØ¯"):(console.log("\uD83D\uDD0D Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€:",s.replace(/(mongodb\+srv:\/\/[^:]+):[^@]+@/,"$1:****@")),c.promise=n().connect(s,{bufferCommands:!0,serverSelectionTimeoutMS:2e4,connectTimeoutMS:2e4,socketTimeoutMS:6e4,family:4,maxPoolSize:10,retryWrites:!0,retryReads:!0}).then(e=>{let t=e.connection;return console.log(`ðŸŒ¿ ØªÙ… Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª MongoDB Ø¨Ù†Ø¬Ø§Ø­! (${t.name})`),t.on("error",e=>{console.error("âŒ Ø®Ø·Ø£ ÙÙŠ Ø§ØªØµØ§Ù„ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø®Ù„Ø§Ù„ Ø§Ù„ØªØ´ØºÙŠÙ„:",e)}),t.on("disconnected",()=>{console.warn("âš ï¸ Ø§Ù†Ù‚Ø·Ø¹ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª"),c.conn=null}),c.errorCount=0,c.lastErrorTime=null,t}).catch(e=>{throw c.errorCount++,c.lastErrorTime=Date.now(),console.error("âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª MongoDB:",e.message),"MongoServerSelectionError"===e.name&&(console.error("âš ï¸ Ø®Ø·Ø£ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø³ÙŠØ±ÙØ±: ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø¹Ù†ÙˆØ§Ù† IP Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ù…Ø³Ù…ÙˆØ­ Ø¨Ù‡ ÙÙŠ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø£Ù…Ø§Ù† Ù„Ù€ MongoDB Atlas"),console.error("\uD83D\uDCA1 Ø§Ù‚ØªØ±Ø§Ø­: Ø§Ø¶Ø¨Ø· Network Access ÙÙŠ MongoDB Atlas Ù„Ù„Ø³Ù…Ø§Ø­ Ù„Ù€ 0.0.0.0/0 Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±")),e.message.includes("Authentication failed")&&console.error("\uD83D\uDD11 ÙØ´Ù„ Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©: ØªØ£ÙƒØ¯ Ù…Ù† ØµØ­Ø© Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±"),e.message.includes("getaddrinfo")&&console.error("\uD83C\uDF10 Ø®Ø·Ø£ DNS: ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ø³Ù… Ø§Ù„Ù†Ø·Ø§Ù‚ Ø§Ù„ØµØ­ÙŠØ­ ÙˆØªÙˆÙØ± Ø§ØªØµØ§Ù„ Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª"),c.promise=null,e}));try{c.conn=await c.promise}catch(e){throw c.promise=null,e}let e=c.conn.readyState;if(e!==a.connected){console.warn(`âš ï¸ Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹Ø©: ${e}`);let t=i[e]||"ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙØ©";if(console.warn(`ðŸ“Š Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„: ${t}`),e===a.connecting){console.log("â³ Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ØŒ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±..."),await new Promise(e=>setTimeout(e,1e3));let e=c.conn.readyState;if(e===a.connected)console.log("âœ… ØªÙ… Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù†Ø¬Ø§Ø­ Ø¨Ø¹Ø¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±");else{let t=i[e]||"ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙØ©";console.warn(`âš ï¸ Ù„Ø§ ÙŠØ²Ø§Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ ÙÙŠ Ø­Ø§Ù„Ø© ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹Ø©: ${e} (${t})`)}}}return c.conn}},96487:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[7719,580],()=>r(71812));module.exports=o})();