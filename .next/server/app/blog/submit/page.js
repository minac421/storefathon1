(()=>{var e={};e.id=368,e.ids=[368],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},22242:(e,s,r)=>{Promise.resolve().then(r.bind(r,75846))},28400:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d});var t=r(65239),a=r(48088),l=r(88170),n=r.n(l),o=r(30893),i={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);r.d(s,i);let d={children:["",{children:["blog",{children:["submit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,75846)),"C:\\Users\\minaa\\CascadeProjects\\conquerors-website\\src\\app\\blog\\submit\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"C:\\Users\\minaa\\CascadeProjects\\conquerors-website\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,54431)),"C:\\Users\\minaa\\CascadeProjects\\conquerors-website\\src\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,54413)),"C:\\Users\\minaa\\CascadeProjects\\conquerors-website\\src\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["C:\\Users\\minaa\\CascadeProjects\\conquerors-website\\src\\app\\blog\\submit\\page.tsx"],m={require:r,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/blog/submit/page",pathname:"/blog/submit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},56746:(e,s,r)=>{Promise.resolve().then(r.bind(r,60316))},60316:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>c});var t=r(60687),a=r(43210),l=r(16189),n=r(80165),o=function(e){return e.GUIDE="guide",e.NEWS="news",e.TIPS="tips",e.ANALYSIS="analysis",e.MARKET="market",e.MEMES="memes",e.EXPERIENCE="experience",e}(o||{});let i={guide:"دليل اللاعبين",news:"أخبار اللعبة",tips:"نصائح وحيل",analysis:"تحليلات وتقييمات",market:"أخبار السوق",memes:"ميمز وطرائف",experience:"تجارب اللاعبين"},d={guide:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),news:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})}),tips:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),analysis:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),market:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),memes:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),experience:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})};function c(){let e=(0,l.useRouter)(),[s,r]=(0,a.useState)(""),[c,m]=(0,a.useState)(""),[u,h]=(0,a.useState)(""),[x,p]=(0,a.useState)(!1),[g,v]=(0,a.useState)(null),[w,b]=(0,a.useState)(null),[j,f]=(0,a.useState)(null),[k,N]=(0,a.useState)(null),[y,C]=(0,a.useState)(!1),[M,L]=(0,a.useState)(null),[P,S]=(0,a.useState)(!1),z=(0,a.useRef)(null),R=(0,a.useRef)(null),[q,B]=(0,a.useState)(null),E=e=>{h(e.toString()),p(!1)},_=async r=>{if(r.preventDefault(),!s.trim())return void L("يرجى كتابة محتوى للمنشور");C(!0),L(null);try{let r;if(g||j){let e=new FormData;e.append("content",s),c&&e.append("title",c),u&&e.append("category",u),g&&e.append("image",g),j&&e.append("video",j),e.append("authorName",q?.nickname||"مستخدم جديد"),e.append("authorAvatar",q?(0,n.Fw)(q.avatarId):"/images/avatars/default.png"),r=await fetch("/api/blog",{method:"POST",body:e})}else{let e={content:s,title:c||"",category:u||null,summary:s.substring(0,150)+(s.length>150?"...":""),author:{name:q?.nickname||"مستخدم جديد",avatar:q?(0,n.Fw)(q.avatarId):"/images/avatars/default.png",isVerified:!1}};r=await fetch("/api/blog",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}if(!r.ok)throw Error("فشل في نشر المنشور");S(!0),setTimeout(()=>{e.push("/blog")},2e3)}catch(e){L(e instanceof Error?e.message:"حدث خطأ غير متوقع")}finally{C(!1)}};return(0,t.jsx)("div",{className:"min-h-screen bg-cover bg-center",style:{backgroundImage:"url('/images/bg238.jpg')",backgroundColor:"rgba(0, 0, 0, 0.5)",backgroundBlendMode:"overlay"},children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pt-16 pb-20",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-white",children:"إنشاء منشور جديد"}),(0,t.jsx)("p",{className:"mt-2 text-sm text-gray-200",children:"شارك منشوراً أو مقالاً جديداً مع مجتمع كونكيرورز"})]}),P?(0,t.jsx)("div",{className:"rounded-md bg-green-50 p-4 text-center",children:(0,t.jsxs)("div",{className:"flex justify-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-green-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),(0,t.jsx)("div",{className:"mr-3",children:(0,t.jsx)("p",{className:"text-sm font-medium text-green-800",children:"تم نشر المنشور بنجاح! جارٍ تحويلك..."})})]})}):(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:(0,t.jsxs)("form",{onSubmit:_,className:"p-6 space-y-6",children:[M&&(0,t.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,t.jsx)("div",{className:"mr-3",children:(0,t.jsx)("p",{className:"text-sm text-red-700",children:M})})]})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"عنوان المنشور (اختياري)"}),(0,t.jsx)("input",{type:"text",id:"title",value:c,onChange:e=>m(e.target.value),className:"mt-1 block w-full rounded-md border border-gray-300 p-3 text-right shadow-sm focus:border-amber-500 focus:ring focus:ring-amber-500 focus:ring-opacity-50",placeholder:"أدخل عنواناً لمنشورك (اختياري)"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"فئة المنشور (اختياري)"}),(0,t.jsxs)("div",{className:"mt-1 relative",children:[(0,t.jsxs)("button",{type:"button",onClick:()=>{p(!x)},className:"relative w-full bg-white border border-gray-300 rounded-md shadow-sm px-4 py-3 text-right cursor-pointer focus:outline-none focus:ring-1 focus:ring-amber-500 focus:border-amber-500",children:[(0,t.jsx)("span",{className:"flex items-center",children:u&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"ml-2 block truncate",children:d[u]}),(0,t.jsx)("span",{children:i[u]})]})}),(0,t.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-2 pointer-events-none",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),x&&(0,t.jsx)("div",{className:"absolute mt-1 w-full rounded-md bg-white shadow-lg z-10",children:(0,t.jsx)("ul",{className:"max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm",children:Object.values(o).map(e=>(0,t.jsxs)("li",{onClick:()=>E(e),className:"flex items-center text-gray-900 cursor-pointer select-none relative py-2 px-3 hover:bg-amber-50",children:[(0,t.jsx)("span",{className:"ml-3 block font-normal truncate",children:d[e]}),(0,t.jsx)("span",{children:i[e]})]},e))})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700",children:"محتوى المنشور"}),(0,t.jsx)("textarea",{id:"content",rows:5,value:s,onChange:e=>r(e.target.value),placeholder:"اكتب منشورك هنا...",className:"mt-1 block w-full rounded-md border border-gray-300 p-3 text-right shadow-sm focus:border-amber-500 focus:ring focus:ring-amber-500 focus:ring-opacity-50",required:!0})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"صورة للمنشور (اختياري)"}),(0,t.jsx)("div",{className:"border-2 border-gray-300 border-dashed rounded-md p-4",children:w?(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("img",{src:w,alt:"معاينة الصورة",className:"h-48 w-full object-contain rounded-md"}),(0,t.jsx)("button",{type:"button",onClick:()=>{v(null),b(null),z.current&&(z.current.value="")},className:"absolute top-2 right-2 bg-red-600 text-white rounded-full p-1 hover:bg-red-700 focus:outline-none shadow-md",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}):(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,t.jsxs)("label",{htmlFor:"image-upload",className:"mt-2 cursor-pointer text-amber-600 hover:text-amber-500 block",children:[(0,t.jsx)("span",{className:"mt-2 text-sm",children:"اضغط لتحميل صورة"}),(0,t.jsx)("input",{id:"image-upload",ref:z,onChange:e=>{let s=e.target.files?.[0];if(!s)return;v(s);let r=new FileReader;r.onloadend=()=>{b(r.result)},r.readAsDataURL(s)},type:"file",accept:"image/*",className:"sr-only"})]})]})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"فيديو للمنشور (اختياري)"}),(0,t.jsx)("div",{className:"border-2 border-gray-300 border-dashed rounded-md p-4",children:k?(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("video",{src:k,controls:!0,className:"max-h-48 w-full rounded-md"}),(0,t.jsx)("button",{type:"button",onClick:()=>{f(null),N(null),R.current&&(R.current.value="")},className:"absolute top-2 right-2 bg-red-600 text-white rounded-full p-1 hover:bg-red-700 focus:outline-none shadow-md",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}):(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),(0,t.jsxs)("label",{htmlFor:"video-upload",className:"mt-2 cursor-pointer text-amber-600 hover:text-amber-500 block",children:[(0,t.jsx)("span",{className:"mt-2 text-sm",children:"اضغط لتحميل فيديو"}),(0,t.jsx)("input",{id:"video-upload",ref:R,onChange:e=>{let s=e.target.files?.[0];if(!s)return;f(s);let r=new FileReader;r.onloadend=()=>{N(r.result)},r.readAsDataURL(s)},type:"file",accept:"video/*",className:"sr-only"})]})]})})]})]}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)("button",{type:"submit",disabled:y,className:`px-6 py-2.5 bg-amber-600 text-white rounded-md font-bold shadow-md transition-all ${y?"opacity-70 cursor-not-allowed":"hover:bg-amber-700 hover:shadow-lg"}`,children:y?(0,t.jsxs)("span",{className:"flex items-center",children:[(0,t.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"جاري النشر..."]}):"نشر"})})]})})]})})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},75846:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});let t=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\minaa\\\\CascadeProjects\\\\conquerors-website\\\\src\\\\app\\\\blog\\\\submit\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\minaa\\CascadeProjects\\conquerors-website\\src\\app\\blog\\submit\\page.tsx","default")}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[7719,4738,7583],()=>r(28400));module.exports=t})();