"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9135],{5572:(e,t,r)=>{r.d(t,{_$:()=>n,ez:()=>o});var a=r(5155),u=r(2115);let s=(0,u.createContext)(void 0),o=e=>{let{children:t}=e,[r,o]=(0,u.useState)([]),[n,c]=(0,u.useState)(!1);(0,u.useEffect)(()=>{let e=localStorage.getItem("cartItems");if(e)try{o(JSON.parse(e))}catch(e){console.error("Failed to parse cart items from localStorage:",e)}},[]),(0,u.useEffect)(()=>{localStorage.setItem("cartItems",JSON.stringify(r))},[r]);let i=(e,t)=>{o(r=>r.filter(r=>r.id!==e||r.category!==t))},d=r.reduce((e,t)=>e+t.quantity,0),l=r.reduce((e,t)=>e+t.price*t.quantity,0);return(0,a.jsx)(s.Provider,{value:{cartItems:r,addItem:e=>{o(t=>{let r=t.findIndex(t=>t.id===e.id&&t.category===e.category);if(!(r>-1))return[...t,{...e,quantity:1}];{let e=[...t];return e[r].quantity+=1,e}}),c(!0)},removeItem:i,updateQuantity:(e,t,r)=>{r<=0?i(e,t):o(a=>a.map(a=>a.id===e&&a.category===t?{...a,quantity:r}:a))},clearCart:()=>{o([])},isCartOpen:n,toggleCart:()=>{c(!n)},totalItems:d,totalPrice:l},children:t})},n=()=>{let e=(0,u.useContext)(s);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}},5695:(e,t,r)=>{var a=r(8999);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},9135:(e,t,r)=>{r.d(t,{_$:()=>a._$});var a=r(5572);r(5155),r(2115),r(6874),r(5695)}}]);