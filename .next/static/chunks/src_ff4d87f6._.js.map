{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/minaa/CascadeProjects/conquerors-website/src/lib/i18n.ts"],"sourcesContent":["// Import translation files\nimport arTranslations from './translations/ar.json';\nimport enTranslations from './translations/en.json';\nimport trTranslations from './translations/tr.json';\n\n// Define Translation type\nexport type LocaleTranslation = {\n  common?: {\n    siteName?: string;\n    slogan?: string;\n    orderNow?: string;\n    learnMore?: string;\n    contactUs?: string;\n  };\n  header?: {\n    home?: string;\n    services?: string;\n    castles?: string;\n    bots?: string;\n    events?: string;\n    distributor?: string;\n    customOrder?: string;\n    support?: string;\n    title?: string;\n    language?: string;\n  };\n  footer?: {\n    copyright?: string;\n    privacyPolicy?: string;\n    termsOfService?: string;\n    aboutUs?: string;\n    followUs?: string;\n    companyName?: string;\n    companyDescription?: string;\n    services?: string;\n    company?: string;\n    support?: string;\n    terms?: string;\n    privacy?: string;\n    cookies?: string;\n    links?: {\n      resources?: string;\n      military?: string;\n      logistics?: string;\n      accounts?: string;\n      vip?: string;\n      about?: string;\n      contact?: string;\n      faq?: string;\n      terms?: string;\n      privacy?: string;\n      help?: string;\n      customOrder?: string;\n      delivery?: string;\n      payment?: string;\n    };\n  };\n  home?: {\n    heroBanner?: {\n      title?: string;\n      subtitle?: string;\n      cta?: string;\n    };\n    stats?: {\n      orders?: string;\n      distributors?: string;\n      satisfaction?: string;\n      title?: string;\n      subtitle?: string;\n      items?: {\n        clients?: string;\n        orders?: string;\n        satisfaction?: string;\n      };\n    };\n    testimonials?: {\n      title?: string;\n      subtitle?: string;\n    };\n    featured?: {\n      title?: string;\n      subtitle?: string;\n    };\n    services?: {\n      title?: string;\n      subtitle?: string;\n      viewAll?: string;\n    };\n    cta?: {\n      title?: string;\n      subtitle?: string;\n      button?: string;\n    };\n  };\n  services?: {\n    title?: string;\n    subtitle?: string;\n    categories?: {\n      resources?: string;\n      military?: string;\n      logistics?: string;\n      accounts?: string;\n      vip?: string;\n    };\n    orderNow?: string;\n    viewDetails?: string;\n    resources?: {\n      title?: string;\n      description?: string;\n      items?: {\n        wheat?: string;\n        wood?: string;\n        iron?: string;\n        silver?: string;\n        gold?: string;\n      };\n    };\n    militarySupport?: {\n      title?: string;\n      description?: string;\n      items?: {\n        armyBoost?: string;\n        buildingDevelopment?: string;\n        battleSupport?: string;\n      };\n    };\n    logistics?: {\n      title?: string;\n      description?: string;\n      items?: {\n        autoCollect?: string;\n        supplyLines?: string;\n      };\n    };\n    accounts?: {\n      title?: string;\n      description?: string;\n      items?: {\n        standardAccounts?: string;\n        vipAccounts?: string;\n      };\n    };\n    vipServices?: {\n      title?: string;\n      description?: string;\n      items?: {\n        personalSupport?: string;\n        priorityExecution?: string;\n        strategicAnalysis?: string;\n      };\n    };\n  };\n  castles?: {\n    title?: string;\n    subtitle?: string;\n    filters?: {\n      category?: string;\n      price?: string;\n      all?: string;\n      searchPlaceholder?: string;\n      clear?: string;\n      power?: string;\n      type?: string;\n    };\n    categories?: {\n      starter?: string;\n      advanced?: string;\n      premium?: string;\n    };\n    level?: string;\n    currency?: string;\n    features?: string;\n    stats?: {\n      strength?: string;\n      defense?: string;\n      capacity?: string;\n      buildTime?: string;\n      hours?: string;\n      instant?: string;\n    };\n    orderNow?: string;\n    outOfStock?: string;\n    previewVideo?: string;\n    videoPreview?: string;\n    realVideoNote?: string;\n    back?: string;\n    backToDetails?: string;\n    noResults?: string;\n    orderSimilar?: string;\n    viewDetails?: string;\n  };\n  bots?: {\n    title?: string;\n    subtitle?: string;\n    filters?: {\n      category?: string;\n      compatibility?: string;\n      price?: string;\n      all?: string;\n      free?: string;\n      paid?: string;\n      searchPlaceholder?: string;\n      clear?: string;\n    };\n    categories?: {\n      farming?: string;\n      battle?: string;\n      utility?: string;\n    };\n    compatibility?: {\n      windows?: string;\n      mac?: string;\n      android?: string;\n      ios?: string;\n    };\n    currency?: string;\n    free?: string;\n    features?: {\n      resourceCollection?: string;\n      building?: string;\n      warfare?: string;\n    };\n    description?: string;\n    viewDetails?: string;\n    downloadNow?: string;\n    buyNow?: string;\n    previewVideo?: string;\n    videoPreview?: string;\n    realVideoNote?: string;\n    back?: string;\n    backToDetails?: string;\n    noResults?: string;\n  };\n  events?: {\n    title?: string;\n    subtitle?: string;\n    register?: string;\n    eventDetails?: {\n      startDate?: string;\n      endDate?: string;\n      requirements?: string;\n      rewards?: string;\n    };\n    upcoming?: string;\n    active?: string;\n    past?: string;\n    all?: string;\n    filters?: {\n      type?: string;\n      timeframe?: string;\n      all?: string;\n      alliance?: string;\n      kingdom?: string;\n      global?: string;\n      upcoming?: string;\n      active?: string;\n      past?: string;\n      searchPlaceholder?: string;\n      clear?: string;\n    };\n    days?: string[];\n    hours?: string[];\n    minutes?: string[];\n    seconds?: string[];\n    startTime?: string;\n    endTime?: string;\n    rewards?: string;\n    requirements?: string;\n    participants?: string;\n    registered?: string;\n    viewDetails?: string;\n    back?: string;\n    noResults?: string;\n    months?: string[];\n  };\n  customOrder?: {\n    title?: string;\n    subtitle?: string;\n    form?: {\n      orderType?: string;\n      quantity?: string;\n      notes?: string;\n      paymentMethod?: string;\n      contactMethod?: string;\n      name?: string;\n      email?: string;\n      phone?: string;\n      submit?: string;\n    };\n    orderTypes?: {\n      resources?: string;\n      military?: string;\n      logistics?: string;\n      accounts?: string;\n      vip?: string;\n      other?: string;\n    };\n    paymentMethods?: {\n      creditCard?: string;\n      paypal?: string;\n      bankTransfer?: string;\n      crypto?: string;\n    };\n    contactMethods?: {\n      email?: string;\n      phone?: string;\n      whatsapp?: string;\n      telegram?: string;\n    };\n    success?: string;\n    error?: string;\n    placeholders?: {\n      orderType?: string;\n      quantity?: string;\n      notes?: string;\n      paymentMethod?: string;\n      contactMethod?: string;\n      name?: string;\n      email?: string;\n      phone?: string;\n    };\n  };\n  support?: {\n    title?: string;\n    subtitle?: string;\n    form?: {\n      subject?: string;\n      message?: string;\n      name?: string;\n      email?: string;\n      phone?: string;\n      submit?: string;\n    };\n    subjects?: {\n      general?: string;\n      technical?: string;\n      billing?: string;\n      other?: string;\n    };\n    success?: string;\n    error?: string;\n    placeholders?: {\n      subject?: string;\n      message?: string;\n      name?: string;\n      email?: string;\n      phone?: string;\n    };\n    faq?: {\n      title?: string;\n      subtitle?: string;\n      searchPlaceholder?: string;\n    };\n  };\n};\n\n// Define Translations type\nexport type Translations = {\n  ar: LocaleTranslation;\n  en: LocaleTranslation;\n  tr: LocaleTranslation;\n};\n\n// All available translations\nconst translations: Translations = {\n  ar: arTranslations,\n  en: enTranslations,\n  tr: trTranslations,\n};\n\n/**\n * Get translations based on locale\n * @param locale - The locale code (ar, en, tr)\n * @returns Translation object for the specified locale\n */\nexport default function getTranslation(locale: string = 'ar'): LocaleTranslation {\n  return translations[locale as keyof Translations] || translations.ar;\n}\n"],"names":[],"mappings":"AAAA,2BAA2B;;;;AAC3B;AACA;AACA;;;;AAwWA,6BAA6B;AAC7B,MAAM,eAA6B;IACjC,IAAI,wGAAA,CAAA,UAAc;IAClB,IAAI,wGAAA,CAAA,UAAc;IAClB,IAAI,wGAAA,CAAA,UAAc;AACpB;AAOe,SAAS,eAAe,SAAiB,IAAI;IAC1D,OAAO,YAAY,CAAC,OAA6B,IAAI,aAAa,EAAE;AACtE","debugId":null}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/minaa/CascadeProjects/conquerors-website/src/components/Header.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport getTranslation from '@/lib/i18n';\nimport { CartWidget } from './cart';\nimport { usePathname } from 'next/navigation';\n\ninterface HeaderProps {\n  locale: string;\n}\n\nexport default function Header({ locale }: HeaderProps) {\n  const t = getTranslation(locale);\n  const isRTL = locale === 'ar';\n  const pathname = usePathname();\n  \n  // إضافة مراقبة للتمرير\n  useEffect(() => {\n    const handleScroll = () => {\n      setIsScrolled(window.scrollY > 20);\n    };\n    \n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n  \n  // Mobile menu state\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\n  const [isScrolled, setIsScrolled] = useState(false);\n  \n  // Toggle mobile menu\n  const toggleMobileMenu = () => {\n    setMobileMenuOpen(!mobileMenuOpen);\n  };\n  \n  // تعريف اللغة العربية كلغة افتراضية ووحيدة\n  const currentPath = pathname;\n  \n  // Navigation items\n  const navItems = [\n    { key: 'home', label: t?.header?.home || 'الرئيسية', href: '/' },\n    { key: 'services', label: t?.header?.services || 'الخدمات', href: '/services' },\n    { key: 'castles', label: t?.header?.castles || 'القلاع', href: '/castles' },\n    { key: 'blog', label: 'المدونة', href: '/blog' },\n    { key: 'bots', label: t?.header?.bots || 'الروبوتات', href: '/bots' },\n    { key: 'events', label: t?.header?.events || 'الأحداث', href: '/events' },\n    { key: 'custom-order', label: t?.header?.customOrder || 'طلب مخصص', href: '/custom-order' },\n    { key: 'admin', label: 'لوحة التحكم', href: '/admin' },\n  ];\n  \n  // اسم الموقع والشعار الفرعي باللغة العربية فقط\n  const siteName = 'Store Fathon';\n  const siteTagline = 'خدمات متميزة للاعبين';\n  \n  return (\n    <header className={`sticky top-0 z-50 w-full transition-all duration-300 ${isScrolled ? 'bg-black/60 backdrop-blur-sm shadow-md' : 'bg-gradient-to-b from-black/70 to-transparent'} relative overflow-hidden`}>\n      <div className=\"container mx-auto px-4 py-4 flex items-center justify-between relative z-10\">\n        {/* Logo */}\n        <div className=\"flex items-center\">\n          <div className=\"flex-shrink-0\">\n            <Link href=\"/\" className=\"flex items-center\">\n              <Image \n                src=\"/images/store-fathon-logo.svg\" \n                alt=\"Store Fathon Logo\" \n                width={50} \n                height={50} \n                className={`${isRTL ? 'ml-2' : 'mr-2'}`}\n              />\n              <div className=\"flex flex-col\">\n                <span className=\"text-xl font-bold text-white\">\n                  {siteName}\n                </span>\n                <span className=\"text-xs text-white text-opacity-80\">\n                  {siteTagline}\n                </span>\n              </div>\n            </Link>\n          </div>\n        </div>\n        \n        {/* Desktop Navigation */}\n        <nav className={`hidden lg:flex items-center space-x-6 ${isRTL ? 'space-x-reverse' : ''}`}>\n          <ul className={`flex ${isRTL ? 'space-x-reverse' : ''} space-x-6`}>\n            {navItems.map((item) => (\n              <li key={item.key}>\n                <Link \n                  href={`${item.href}`}\n                  className={`text-white hover:text-blue-100 transition-colors py-2 ${\n                    pathname === item.href ? 'font-bold text-white' : ''\n                  }`}\n                >\n                  {item.label}\n                </Link>\n              </li>\n            ))}\n          </ul>\n        </nav>\n        \n        {/* أدوات المستخدم */}\n        <div className={`flex items-center space-x-4 ${isRTL ? 'space-x-reverse' : ''}`}>\n          {/* تعطيل مؤقت لمكون CartWidget حتى يتم إصلاح السياق */}\n          {/* <CartWidget locale={locale} /> */}\n          \n          {/* تم إلغاء أزرار اللغة للتبسيط والاكتفاء باللغة العربية */}\n          \n          {/* Mobile Menu Button */}\n          <div className=\"lg:hidden\">\n            <button \n              onClick={toggleMobileMenu}\n              className=\"text-white focus:outline-none\"\n            >\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 12h16M4 18h16\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Mobile Menu */}\n      {mobileMenuOpen && (\n        <div className=\"lg:hidden bg-orange-500 shadow-lg\">\n          <nav className=\"px-6 pt-2 pb-4\">\n            <ul className=\"space-y-2\">\n              {navItems.map((item) => (\n                <li key={item.key}>\n                  <Link \n                    href={`${item.href}`}\n                    className={`block py-2 text-white hover:text-blue-100 transition-colors ${\n                      pathname === item.href ? 'font-bold text-white' : ''\n                    }`}\n                    onClick={() => setMobileMenuOpen(false)}\n                  >\n                    {item.label}\n                  </Link>\n                </li>\n              ))}\n            </ul>\n          </nav>\n        </div>\n      )}\n    </header>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 346, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/minaa/CascadeProjects/conquerors-website/src/utils/userSettings.ts"],"sourcesContent":["// مجموعة من الصور المتاحة للاختيار - من لعبة فاتحون\nexport const AVAILABLE_AVATARS = [\n  { id: 8, src: '/images/avatars/hero_icon_8_wake.png', alt: 'المحارب الأحمر' },\n  { id: 6, src: '/images/avatars/hero_icon_6_wake.png', alt: 'قائد الجيش' },\n  { id: 3, src: '/images/avatars/hero_icon_3_wake.png', alt: 'الفارس الأزرق' },\n  { id: 32, src: '/images/avatars/hero_icon_32_wake.png', alt: 'الساحر' },\n  { id: 33, src: '/images/avatars/hero_icon_33_wake.png', alt: 'القناص' },\n  { id: 34, src: '/images/avatars/hero_icon_34_wake.png', alt: 'المقاتل الأسود' },\n  { id: 35, src: '/images/avatars/hero_icon_35_wake.png', alt: 'الكاهن' },\n  { id: 36, src: '/images/avatars/hero_icon_36_wake.png', alt: 'بطل الحرب' },\n  { id: 37, src: '/images/avatars/hero_icon_37_wake.png', alt: 'المحارب الأسطوري' },\n  { id: 38, src: '/images/avatars/hero_icon_38_wake.png', alt: 'فارس الظلام' },\n  { id: 39, src: '/images/avatars/hero_icon_39_wake.png', alt: 'المدافع الذهبي' },\n  { id: 40, src: '/images/avatars/hero_icon_40_wake.png', alt: 'صانع النار' },\n  { id: 41, src: '/images/avatars/hero_icon_41_wake.png', alt: 'الملكة' },\n  { id: 42, src: '/images/avatars/hero_icon_42_wake.png', alt: 'المتصيد' },\n  { id: 43, src: '/images/avatars/hero_icon_43_wake.png', alt: 'سيد البحار' },\n  { id: 44, src: '/images/avatars/hero_icon_44_wake.png', alt: 'الحارس الأمين' }\n];\n\n// واجهة لبيانات المستخدم\nexport interface UserSettings {\n  nickname: string;\n  avatarId: number;\n}\n\n// استخدام LocalStorage لتخزين إعدادات المستخدم\nexport const saveUserSettings = (nickname: string, avatarId: number) => {\n  if (typeof window !== 'undefined') {\n    localStorage.setItem('userSettings', JSON.stringify({ nickname, avatarId }));\n  }\n};\n\n// استرجاع بيانات المستخدم\nexport const getUserSettings = (): UserSettings | null => {\n  if (typeof window !== 'undefined') {\n    const settings = localStorage.getItem('userSettings');\n    if (settings) {\n      return JSON.parse(settings);\n    }\n  }\n  return null;\n};\n\n// الحصول على مسار الصورة الشخصية للمستخدم\nexport const getUserAvatarSrc = (avatarId: number | undefined): string => {\n  if (!avatarId) return '';\n  \n  // البحث عن الأفاتار باستخدام رقم المعرف\n  const avatar = AVAILABLE_AVATARS.find(a => a.id === avatarId);\n  \n  if (avatar) {\n    // إرجاع مسار الصورة من المصفوفة\n    return avatar.src;\n  }\n  \n  // طباعة رسالة تصحيح للمطورين\n  console.log('لم يتم العثور على صورة بالمعرف:', avatarId);\n  \n  // الصورة الافتراضية الأولى\n  return '/images/avatars/hero_icon_8_wake.png';\n};\n\n// الحصول على الحرف الأول من اسم المستخدم أو بديل إذا لم يكن متاحًا\nexport const getUserInitial = (nickname: string | undefined): string => {\n  if (!nickname) return '؟';\n  return nickname.charAt(0);\n};\n\n// الحصول على الاسم المستعار كاملاً أو بديل إذا لم يكن متاحًا\nexport const getUserDisplayName = (nickname: string | undefined): string => {\n  if (!nickname) return 'زائر';\n  return nickname;\n};\n\n// التحقق مما إذا كان المستخدم قد قام بإعداد ملفه الشخصي\nexport const hasUserProfile = (): boolean => {\n  const settings = getUserSettings();\n  return !!settings && !!settings.nickname;\n};\n"],"names":[],"mappings":"AAAA,oDAAoD;;;;;;;;;;AAC7C,MAAM,oBAAoB;IAC/B;QAAE,IAAI;QAAG,KAAK;QAAwC,KAAK;IAAiB;IAC5E;QAAE,IAAI;QAAG,KAAK;QAAwC,KAAK;IAAa;IACxE;QAAE,IAAI;QAAG,KAAK;QAAwC,KAAK;IAAgB;IAC3E;QAAE,IAAI;QAAI,KAAK;QAAyC,KAAK;IAAS;IACtE;QAAE,IAAI;QAAI,KAAK;QAAyC,KAAK;IAAS;IACtE;QAAE,IAAI;QAAI,KAAK;QAAyC,KAAK;IAAiB;IAC9E;QAAE,IAAI;QAAI,KAAK;QAAyC,KAAK;IAAS;IACtE;QAAE,IAAI;QAAI,KAAK;QAAyC,KAAK;IAAY;IACzE;QAAE,IAAI;QAAI,KAAK;QAAyC,KAAK;IAAmB;IAChF;QAAE,IAAI;QAAI,KAAK;QAAyC,KAAK;IAAc;IAC3E;QAAE,IAAI;QAAI,KAAK;QAAyC,KAAK;IAAiB;IAC9E;QAAE,IAAI;QAAI,KAAK;QAAyC,KAAK;IAAa;IAC1E;QAAE,IAAI;QAAI,KAAK;QAAyC,KAAK;IAAS;IACtE;QAAE,IAAI;QAAI,KAAK;QAAyC,KAAK;IAAU;IACvE;QAAE,IAAI;QAAI,KAAK;QAAyC,KAAK;IAAa;IAC1E;QAAE,IAAI;QAAI,KAAK;QAAyC,KAAK;IAAgB;CAC9E;AASM,MAAM,mBAAmB,CAAC,UAAkB;IACjD,wCAAmC;QACjC,aAAa,OAAO,CAAC,gBAAgB,KAAK,SAAS,CAAC;YAAE;YAAU;QAAS;IAC3E;AACF;AAGO,MAAM,kBAAkB;IAC7B,wCAAmC;QACjC,MAAM,WAAW,aAAa,OAAO,CAAC;QACtC,IAAI,UAAU;YACZ,OAAO,KAAK,KAAK,CAAC;QACpB;IACF;IACA,OAAO;AACT;AAGO,MAAM,mBAAmB,CAAC;IAC/B,IAAI,CAAC,UAAU,OAAO;IAEtB,wCAAwC;IACxC,MAAM,SAAS,kBAAkB,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;IAEpD,IAAI,QAAQ;QACV,gCAAgC;QAChC,OAAO,OAAO,GAAG;IACnB;IAEA,6BAA6B;IAC7B,QAAQ,GAAG,CAAC,mCAAmC;IAE/C,2BAA2B;IAC3B,OAAO;AACT;AAGO,MAAM,iBAAiB,CAAC;IAC7B,IAAI,CAAC,UAAU,OAAO;IACtB,OAAO,SAAS,MAAM,CAAC;AACzB;AAGO,MAAM,qBAAqB,CAAC;IACjC,IAAI,CAAC,UAAU,OAAO;IACtB,OAAO;AACT;AAGO,MAAM,iBAAiB;IAC5B,MAAM,WAAW;IACjB,OAAO,CAAC,CAAC,YAAY,CAAC,CAAC,SAAS,QAAQ;AAC1C","debugId":null}},
    {"offset": {"line": 489, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/minaa/CascadeProjects/conquerors-website/src/app/components/UserSettings.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Image from 'next/image';\nimport { AVAILABLE_AVATARS, saveUserSettings, getUserSettings } from '@/utils/userSettings';\n\ninterface UserSettingsProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onSave?: (settings: { nickname: string; avatarId: number }) => void;\n}\n\nconst UserSettings: React.FC<UserSettingsProps> = ({ isOpen, onClose, onSave }) => {\n  const [nickname, setNickname] = useState('');\n  const [selectedAvatarId, setSelectedAvatarId] = useState<number>(8);\n  const [message, setMessage] = useState<{ type: 'success' | 'error', text: string } | null>(null);\n  \n  // تحميل الإعدادات المحفوظة إن وجدت\n  useEffect(() => {\n    const savedSettings = getUserSettings();\n    if (savedSettings) {\n      setNickname(savedSettings.nickname || '');\n      setSelectedAvatarId(savedSettings.avatarId || 1);\n    }\n  }, [isOpen]); // إعادة تحميل الإعدادات عند فتح النافذة\n  \n  // إغلاق النافذة عند الضغط على Escape\n  useEffect(() => {\n    const handleEscape = (e: KeyboardEvent) => {\n      if (e.key === 'Escape') onClose();\n    };\n    \n    if (isOpen) {\n      document.addEventListener('keydown', handleEscape);\n    }\n    \n    return () => {\n      document.removeEventListener('keydown', handleEscape);\n    };\n  }, [isOpen, onClose]);\n  \n  const handleSave = async () => {\n    if (!nickname.trim()) {\n      setMessage({ type: 'error', text: 'الرجاء إدخال اسم مستعار' });\n      return;\n    }\n    \n    try {\n      // حفظ في localStorage للعمل في وضع عدم الاتصال\n      saveUserSettings(nickname, selectedAvatarId);\n      \n      // حفظ على الخادم باستخدام API\n      const response = await fetch('/api/user/settings', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ nickname, avatarId: selectedAvatarId })\n      });\n      \n      const data = await response.json();\n      \n      if (!response.ok) {\n        throw new Error(data.error || 'فشل حفظ الإعدادات');\n      }\n      \n      // استدعاء دالة الحفظ الخارجية إن وجدت\n      if (onSave) {\n        onSave({ nickname, avatarId: selectedAvatarId });\n      }\n      \n      setMessage({ type: 'success', text: 'تم حفظ الإعدادات بنجاح!' });\n      \n      // إغلاق النافذة بعد فترة قصيرة\n      setTimeout(() => {\n        onClose();\n      }, 1500);\n    } catch (error) {\n      console.error('Error saving settings:', error);\n      setMessage({ type: 'error', text: error instanceof Error ? error.message : 'حدث خطأ أثناء حفظ الإعدادات' });\n    }\n  };\n  \n  if (!isOpen) return null;\n  \n  return (\n    <div \n      className=\"fixed inset-0 z-50 flex items-start justify-start\" \n      onClick={onClose}\n      style={{\n        backgroundColor: 'rgba(0, 0, 0, 0.3)',\n        backdropFilter: 'blur(5px)',\n        animation: isOpen ? 'fadeIn 0.3s ease-out forwards' : 'none'\n      }}\n    >\n      <div \n        className=\"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl w-80 mr-auto ml-4 mt-20 p-4 overflow-hidden\" \n        onClick={(e) => e.stopPropagation()}\n        style={{\n          animation: isOpen ? 'slideInLeft 0.4s ease-out forwards' : 'none',\n          transformOrigin: 'top left'\n        }}\n      >\n        {/* شريط مزخرف في الأعلى */}\n        <div className=\"absolute top-0 right-0 left-0 h-1 bg-gradient-to-r from-amber-400 via-amber-500 to-amber-600\"></div>\n        \n        {/* زر الإغلاق */}\n        <button \n          onClick={onClose}\n          className=\"absolute top-2 right-2 text-gray-400 hover:text-amber-500 dark:hover:text-amber-500 transition-colors duration-200\"\n        >\n          <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n          </svg>\n        </button>\n        \n        {/* إضافة CSS للتأثيرات الحركية */}\n        <style jsx global>{`\n          @keyframes fadeIn {\n            from { opacity: 0; }\n            to { opacity: 1; }\n          }\n          \n          @keyframes slideInLeft {\n            from { \n              transform: translateX(-100px); \n              opacity: 0;\n            }\n            to { \n              transform: translateX(0); \n              opacity: 1;\n            }\n          }\n          \n          @keyframes pulse {\n            0% { transform: scale(1); }\n            50% { transform: scale(1.05); }\n            100% { transform: scale(1); }\n          }\n        `}</style>\n        \n        <h2 className=\"text-lg font-bold mb-3 text-gray-800 dark:text-white pl-6\">إعدادات الملف الشخصي</h2>\n        \n        {message && (\n          <div className={`mb-3 p-2 rounded-md text-sm ${message.type === 'success' ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'}`}>\n            {message.text}\n          </div>\n        )}\n        \n        <div className=\"mb-3\">\n          <label htmlFor=\"nickname\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n            الاسم المستعار\n          </label>\n          <input\n            type=\"text\"\n            id=\"nickname\"\n            value={nickname}\n            onChange={(e) => setNickname(e.target.value)}\n            className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n            placeholder=\"أدخل اسمك المستعار\"\n          />\n        </div>\n        \n        <div className=\"mb-3\">\n          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n            اختر صورة شخصية\n          </label>\n          \n          <div className=\"grid grid-cols-4 gap-2 max-h-64 overflow-y-auto pr-1\">\n            {AVAILABLE_AVATARS.map((avatar) => (\n              <div \n                key={avatar.id}\n                onClick={() => setSelectedAvatarId(avatar.id)}\n                className={`relative cursor-pointer p-1 rounded-lg border-2 ${selectedAvatarId === avatar.id ? 'border-amber-500 bg-amber-50 dark:bg-amber-900' : 'border-gray-200 dark:border-gray-700'}`}\n              >\n                <div className=\"relative w-full h-12 flex items-center justify-center bg-gray-100 dark:bg-gray-600 rounded overflow-hidden\">\n                  {/* صورة الأفاتار من لعبة الفاتحون */}\n                  <img \n                    src={avatar.src} \n                    alt={avatar.alt}\n                    className=\"w-10 h-10 object-contain\"\n                  />\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n        \n        <button \n          onClick={handleSave}\n          className=\"w-full py-2 px-4 rounded-md text-white font-medium bg-amber-500 hover:bg-amber-600 transition-colors\"\n        >\n          حفظ الإعدادات\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default UserSettings;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 774, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/minaa/CascadeProjects/conquerors-website/src/app/components/ProfileButton.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect } from 'react';\nimport UserSettings from './UserSettings';\nimport { getUserSettings, getUserInitial, getUserAvatarSrc } from '@/utils/userSettings';\n\nconst ProfileButton: React.FC = () => {\n  const [isSettingsOpen, setIsSettingsOpen] = useState(false);\n  const [userSettings, setUserSettings] = useState<{ nickname: string; avatarId: number } | null>(null);\n  const [isHovered, setIsHovered] = useState(false);\n  \n  // استرجاع بيانات المستخدم عند تحميل المكون\n  useEffect(() => {\n    const settings = getUserSettings();\n    if (settings) {\n      setUserSettings(settings);\n    }\n  }, [isSettingsOpen]); // إعادة التحقق بعد إغلاق نافذة الإعدادات\n  \n  return (\n    <>\n      {/* زر الملف الشخصي العائم بتأثيرات حركية */}\n      <div className=\"fixed left-4 top-20 z-40 flex flex-col items-start\">\n        <button \n          onClick={() => setIsSettingsOpen(true)}\n          onMouseEnter={() => setIsHovered(true)}\n          onMouseLeave={() => setIsHovered(false)}\n          className={`\n            flex items-center justify-center overflow-hidden\n            w-14 h-14 rounded-lg bg-white shadow-xl\n            hover:bg-amber-50 transform transition-all duration-300\n            ${isHovered ? 'scale-110 rotate-3' : ''}\n            border-2 border-amber-500/30\n          `}\n          aria-label=\"إعدادات الملف الشخصي\"\n        >\n          {userSettings?.nickname ? (\n            <div className=\"w-11 h-11 rounded-md overflow-hidden flex items-center justify-center bg-amber-100 border border-amber-200\">\n              {/* إذا كان لديه صورة شخصية من الأفاتارات المتاحة */}\n              {userSettings.avatarId ? (\n                <img \n                  src={getUserAvatarSrc(userSettings.avatarId)}\n                  alt={`صورة ${userSettings.nickname}`}\n                  className=\"w-10 h-10 object-contain\"\n                />\n              ) : (\n                <span className=\"text-2xl font-bold text-amber-800\">\n                  {getUserInitial(userSettings.nickname)}\n                </span>\n              )}\n            </div>\n          ) : (\n            <div className=\"w-11 h-11 rounded-md flex items-center justify-center bg-gradient-to-br from-amber-400 to-amber-600\">\n              <svg className=\"w-7 h-7 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\n              </svg>\n            </div>\n          )}\n        </button>\n        \n        {/* تلميح يظهر عند تحريك الماوس فوق الزر */}\n        <div \n          className={`\n            absolute left-16 top-3 px-3 py-2 bg-black/80 text-white text-sm rounded-lg\n            transform transition-all duration-300 pointer-events-none\n            ${isHovered ? 'opacity-100 translate-x-0' : 'opacity-0 -translate-x-2'}\n          `}\n        >\n          {userSettings?.nickname \n            ? `مرحباً ${userSettings.nickname}` \n            : 'إعدادات الملف الشخصي'}\n        </div>\n      </div>\n      \n      {/* مكون إعدادات المستخدم */}\n      <UserSettings \n        isOpen={isSettingsOpen} \n        onClose={() => setIsSettingsOpen(false)}\n      />\n    </>\n  );\n};\n\nexport default ProfileButton;\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;;;AAJA;;;;AAMA,MAAM,gBAA0B;;IAC9B,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACrD,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiD;IAChG,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,2CAA2C;IAC3C,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;mCAAE;YACR,MAAM,WAAW,CAAA,GAAA,+HAAA,CAAA,kBAAe,AAAD;YAC/B,IAAI,UAAU;gBACZ,gBAAgB;YAClB;QACF;kCAAG;QAAC;KAAe,GAAG,yCAAyC;IAE/D,qBACE;;0BAEE,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBACC,SAAS,IAAM,kBAAkB;wBACjC,cAAc,IAAM,aAAa;wBACjC,cAAc,IAAM,aAAa;wBACjC,WAAW,CAAC;;;;YAIV,EAAE,YAAY,uBAAuB,GAAG;;UAE1C,CAAC;wBACD,cAAW;kCAEV,cAAc,yBACb,6LAAC;4BAAI,WAAU;sCAEZ,aAAa,QAAQ,iBACpB,6LAAC;gCACC,KAAK,CAAA,GAAA,+HAAA,CAAA,mBAAgB,AAAD,EAAE,aAAa,QAAQ;gCAC3C,KAAK,CAAC,KAAK,EAAE,aAAa,QAAQ,EAAE;gCACpC,WAAU;;;;;qDAGZ,6LAAC;gCAAK,WAAU;0CACb,CAAA,GAAA,+HAAA,CAAA,iBAAc,AAAD,EAAE,aAAa,QAAQ;;;;;;;;;;iDAK3C,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCAAI,WAAU;gCAAqB,MAAK;gCAAO,QAAO;gCAAe,SAAQ;0CAC5E,cAAA,6LAAC;oCAAK,eAAc;oCAAQ,gBAAe;oCAAQ,aAAa;oCAAG,GAAE;;;;;;;;;;;;;;;;;;;;;kCAO7E,6LAAC;wBACC,WAAW,CAAC;;;YAGV,EAAE,YAAY,8BAA8B,2BAA2B;UACzE,CAAC;kCAEA,cAAc,WACX,CAAC,OAAO,EAAE,aAAa,QAAQ,EAAE,GACjC;;;;;;;;;;;;0BAKR,6LAAC,4IAAA,CAAA,UAAY;gBACX,QAAQ;gBACR,SAAS,IAAM,kBAAkB;;;;;;;;AAIzC;GA3EM;KAAA;uCA6ES","debugId":null}},
    {"offset": {"line": 917, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/minaa/CascadeProjects/conquerors-website/src/components/cart/CartContext.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';\r\n\r\n// تعريف نوع العنصر في السلة\r\nexport interface CartItem {\r\n  id: string;\r\n  name: string;\r\n  price: number;\r\n  icon: string;\r\n  quantity: number;\r\n  category: 'resources' | 'bots' | 'castle' | 'events' | 'packages'; // إضافة فئة 'packages'\r\n}\r\n\r\n// واجهة سياق السلة\r\ninterface CartContextType {\r\n  cartItems: CartItem[];\r\n  addItem: (item: Omit<CartItem, 'quantity'>) => void;\r\n  removeItem: (id: string, category: string) => void;\r\n  updateQuantity: (id: string, category: string, quantity: number) => void;\r\n  clearCart: () => void;\r\n  isCartOpen: boolean;\r\n  toggleCart: () => void;\r\n  totalItems: number;\r\n  totalPrice: number;\r\n}\r\n\r\n// إنشاء السياق مع قيمة افتراضية\r\nconst CartContext = createContext<CartContextType | undefined>(undefined);\r\n\r\n// مزود سياق السلة\r\nexport const CartProvider: React.FC<{ children: ReactNode }> = ({ children }) => {\r\n  // حالة السلة\r\n  const [cartItems, setCartItems] = useState<CartItem[]>([]);\r\n  const [isCartOpen, setIsCartOpen] = useState(false);\r\n  \r\n  // استرجاع بيانات السلة من التخزين المحلي عند التحميل\r\n  useEffect(() => {\r\n    const savedCartItems = localStorage.getItem('cartItems');\r\n    if (savedCartItems) {\r\n      try {\r\n        setCartItems(JSON.parse(savedCartItems));\r\n      } catch (error) {\r\n        console.error('Failed to parse cart items from localStorage:', error);\r\n      }\r\n    }\r\n  }, []);\r\n  \r\n  // حفظ بيانات السلة في التخزين المحلي عند التغيير\r\n  useEffect(() => {\r\n    localStorage.setItem('cartItems', JSON.stringify(cartItems));\r\n  }, [cartItems]);\r\n  \r\n  // إضافة عنصر للسلة\r\n  const addItem = (item: Omit<CartItem, 'quantity'>) => {\r\n    setCartItems(prevItems => {\r\n      // البحث عن العنصر إذا كان موجوداً بالفعل\r\n      const existingItemIndex = prevItems.findIndex(\r\n        i => i.id === item.id && i.category === item.category\r\n      );\r\n      \r\n      if (existingItemIndex > -1) {\r\n        // إذا كان العنصر موجوداً، قم بزيادة الكمية\r\n        const newItems = [...prevItems];\r\n        newItems[existingItemIndex].quantity += 1;\r\n        return newItems;\r\n      } else {\r\n        // إذا لم يكن العنصر موجوداً، أضفه مع كمية 1\r\n        return [...prevItems, { ...item, quantity: 1 }];\r\n      }\r\n    });\r\n    \r\n    // فتح السلة عند إضافة عنصر\r\n    setIsCartOpen(true);\r\n  };\r\n  \r\n  // إزالة عنصر من السلة\r\n  const removeItem = (id: string, category: string) => {\r\n    setCartItems(prevItems => prevItems.filter(item => !(item.id === id && item.category === category)));\r\n  };\r\n  \r\n  // تحديث كمية عنصر\r\n  const updateQuantity = (id: string, category: string, quantity: number) => {\r\n    if (quantity <= 0) {\r\n      // إذا كانت الكمية صفر أو أقل، قم بإزالة العنصر\r\n      removeItem(id, category);\r\n    } else {\r\n      // تحديث الكمية\r\n      setCartItems(prevItems => prevItems.map(item => {\r\n        if (item.id === id && item.category === category) {\r\n          return { ...item, quantity };\r\n        }\r\n        return item;\r\n      }));\r\n    }\r\n  };\r\n  \r\n  // إفراغ السلة\r\n  const clearCart = () => {\r\n    setCartItems([]);\r\n  };\r\n  \r\n  // تبديل حالة عرض السلة\r\n  const toggleCart = () => {\r\n    setIsCartOpen(!isCartOpen);\r\n  };\r\n  \r\n  // حساب إجمالي العناصر\r\n  const totalItems = cartItems.reduce((sum, item) => sum + item.quantity, 0);\r\n  \r\n  // حساب السعر الإجمالي\r\n  const totalPrice = cartItems.reduce((sum, item) => sum + (item.price * item.quantity), 0);\r\n  \r\n  // قيمة السياق التي سيتم توفيرها\r\n  const value = {\r\n    cartItems,\r\n    addItem,\r\n    removeItem,\r\n    updateQuantity,\r\n    clearCart,\r\n    isCartOpen,\r\n    toggleCart,\r\n    totalItems,\r\n    totalPrice\r\n  };\r\n  \r\n  return <CartContext.Provider value={value}>{children}</CartContext.Provider>;\r\n};\r\n\r\n// هوك لاستخدام سياق السلة\r\nexport const useCart = () => {\r\n  const context = useContext(CartContext);\r\n  if (context === undefined) {\r\n    throw new Error('useCart must be used within a CartProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\nexport default CartContext; "],"names":[],"mappings":";;;;;;AAEA;;;AAFA;;AA2BA,gCAAgC;AAChC,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,gBAAa,AAAD,EAA+B;AAGxD,MAAM,eAAkD,CAAC,EAAE,QAAQ,EAAE;;IAC1E,aAAa;IACb,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAc,EAAE;IACzD,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE7C,qDAAqD;IACrD,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,MAAM,iBAAiB,aAAa,OAAO,CAAC;YAC5C,IAAI,gBAAgB;gBAClB,IAAI;oBACF,aAAa,KAAK,KAAK,CAAC;gBAC1B,EAAE,OAAO,OAAO;oBACd,QAAQ,KAAK,CAAC,iDAAiD;gBACjE;YACF;QACF;iCAAG,EAAE;IAEL,iDAAiD;IACjD,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,aAAa,OAAO,CAAC,aAAa,KAAK,SAAS,CAAC;QACnD;iCAAG;QAAC;KAAU;IAEd,mBAAmB;IACnB,MAAM,UAAU,CAAC;QACf,aAAa,CAAA;YACX,yCAAyC;YACzC,MAAM,oBAAoB,UAAU,SAAS,CAC3C,CAAA,IAAK,EAAE,EAAE,KAAK,KAAK,EAAE,IAAI,EAAE,QAAQ,KAAK,KAAK,QAAQ;YAGvD,IAAI,oBAAoB,CAAC,GAAG;gBAC1B,2CAA2C;gBAC3C,MAAM,WAAW;uBAAI;iBAAU;gBAC/B,QAAQ,CAAC,kBAAkB,CAAC,QAAQ,IAAI;gBACxC,OAAO;YACT,OAAO;gBACL,4CAA4C;gBAC5C,OAAO;uBAAI;oBAAW;wBAAE,GAAG,IAAI;wBAAE,UAAU;oBAAE;iBAAE;YACjD;QACF;QAEA,2BAA2B;QAC3B,cAAc;IAChB;IAEA,sBAAsB;IACtB,MAAM,aAAa,CAAC,IAAY;QAC9B,aAAa,CAAA,YAAa,UAAU,MAAM,CAAC,CAAA,OAAQ,CAAC,CAAC,KAAK,EAAE,KAAK,MAAM,KAAK,QAAQ,KAAK,QAAQ;IACnG;IAEA,kBAAkB;IAClB,MAAM,iBAAiB,CAAC,IAAY,UAAkB;QACpD,IAAI,YAAY,GAAG;YACjB,+CAA+C;YAC/C,WAAW,IAAI;QACjB,OAAO;YACL,eAAe;YACf,aAAa,CAAA,YAAa,UAAU,GAAG,CAAC,CAAA;oBACtC,IAAI,KAAK,EAAE,KAAK,MAAM,KAAK,QAAQ,KAAK,UAAU;wBAChD,OAAO;4BAAE,GAAG,IAAI;4BAAE;wBAAS;oBAC7B;oBACA,OAAO;gBACT;QACF;IACF;IAEA,cAAc;IACd,MAAM,YAAY;QAChB,aAAa,EAAE;IACjB;IAEA,uBAAuB;IACvB,MAAM,aAAa;QACjB,cAAc,CAAC;IACjB;IAEA,sBAAsB;IACtB,MAAM,aAAa,UAAU,MAAM,CAAC,CAAC,KAAK,OAAS,MAAM,KAAK,QAAQ,EAAE;IAExE,sBAAsB;IACtB,MAAM,aAAa,UAAU,MAAM,CAAC,CAAC,KAAK,OAAS,MAAO,KAAK,KAAK,GAAG,KAAK,QAAQ,EAAG;IAEvF,gCAAgC;IAChC,MAAM,QAAQ;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;IACF;IAEA,qBAAO,6LAAC,YAAY,QAAQ;QAAC,OAAO;kBAAQ;;;;;;AAC9C;GAhGa;KAAA;AAmGN,MAAM,UAAU;;IACrB,MAAM,UAAU,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANa;uCAQE","debugId":null}},
    {"offset": {"line": 1060, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/minaa/CascadeProjects/conquerors-website/src/components/ClientCart.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React from 'react';\r\nimport { CartProvider } from './cart/CartContext';\r\n\r\nexport function ClientCartProvider({ children }: { children: React.ReactNode }) {\r\n  return <CartProvider>{children}</CartProvider>;\r\n} "],"names":[],"mappings":";;;;AAGA;AAHA;;;AAKO,SAAS,mBAAmB,EAAE,QAAQ,EAAiC;IAC5E,qBAAO,6LAAC,4IAAA,CAAA,eAAY;kBAAE;;;;;;AACxB;KAFgB","debugId":null}}]
}